/*  AdBridg Connect v2.1.0, copyright AdBridg Inc. All rights reserved. dedfb28:k5fvae8k */
!function i(a,o,s){function d(n,e){if(!o[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(c)return c(n,!0);throw new Error("Cannot find module '"+n+"'")}var r=o[n]={exports:{}};a[n][0].call(r.exports,function(e){var t=a[n][1][e];return d(t||e)},r,r.exports,i,a,o,s)}return o[n].exports}for(var c="function"==typeof require&&require,e=0;e<s.length;e++)d(s[e]);return d}({1:[function(r,e,t){var i={},n={aliasRegistry:{},bidderRegistry:i,getBidAdapter:function(e){return i[e]},registerBidAdapter:function(e,t){var n=r("./shim.js").polyfills.utils;e&&t?"function"==typeof e.callBids?i[t]=e:n.logError("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):n.logError("bidAdaptor or bidderCode not specified")}};e.exports=n},{"./shim.js":24}],2:[function(e,t,n){"use strict";function r(){var e=o(["dcn=","&pos=","&cmd=bid",""]);return r=function(){return e},e}function i(){var e=o(["","/bidRequest?"]);return i=function(){return e},e}function a(){var e=o(["","/pubapi/3.0/","/","/","/","/ADTECH;v=2;cmd=bid;cors=yes;alias=",";misc=",";",""]);return a=function(){return e},e}function o(e,t){return t=t||e.slice(0),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var s=e("../shim.js").polyfills,d=s.utils,c=(s.registerBidder,s.BANNER),u={AOL:"aol",ONEMOBILE:"onemobile",ONEDISPLAY:"onedisplay"},l={GET:"display-get"},p={GET:"mobile-get",POST:"mobile-post"},f={TAG:"iframe",TYPE:"iframe"},g={TAG:"img",TYPE:"image"},m=x(a(),"host","network","placement","pageid","sizeid","alias","misc","dynamicParams"),h=x(i(),"host"),v=x(r(),"dcn","pos","dynamicParams"),b={us:"adserver-us.adtech.advertising.com",eu:"adserver-eu.adtech.advertising.com",as:"adserver-as.adtech.advertising.com"},y="https",_=1;function x(o){for(var e=arguments.length,n=new Array(1<e?e-1:0),t=1;t<e;t++)n[t-1]=arguments[t];return function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];var i=r[r.length-1]||{},a=[o[0]];return n.forEach(function(e,t){var n=d.isInteger(e)?r[e]:i[e];a.push(n,o[t+1])}),a.join("")}}function w(e){return e===u.AOL||e===u.ONEMOBILE}function A(e){if(w(e.bidder)&&e.params.id&&e.params.imp&&e.params.imp[0]){var t=e.params.imp[0];return t.id&&t.tagid&&(t.banner&&t.banner.w&&t.banner.h||t.video&&t.video.mimes&&t.video.minduration&&t.video.maxduration)}}function S(e){return w(e.bidder)&&e.params.dcn&&e.params.pos}function I(e){return((t=e.bidder)===u.AOL||t===u.ONEDISPLAY)&&e.params.placement&&e.params.network;var t}var z={code:u.AOL,aliases:[u.ONEMOBILE,u.ONEDISPLAY],supportedMediaTypes:[c],isBidRequestValid:function(e){return I(e)||(S(t=e)||A(t));var t},buildRequests:function(e,t){var r=this,i={};return t&&(i.gdpr=t.gdprConsent,i.uspConsent=t.uspConsent),e.map(function(e){var t,n=S(t=e)?p.GET:A(t)?p.POST:I(t)?l.GET:void 0;if(n)return r.formatBidRequest(n,e,i)})},interpretResponse:function(e,t){var n=e.body;if(n){var r=this._parseBidResponse(n,t);if(r)return r}else d.logError("Empty bid response",t.bidderCode,n)},getUserSyncs:function(e,t){var n=!d.isEmpty(t)&&t[0].body;return n&&n.ext&&n.ext.pixels?this.parsePixelItems(n.ext.pixels):[]},formatBidRequest:function(e,t,n){var r;switch(e){case l.GET:r={url:this.buildMarketplaceUrl(t,n),method:"GET",ttl:60};break;case p.GET:r={url:this.buildOneMobileGetUrl(t,n),method:"GET",ttl:3600};break;case p.POST:r={url:this.buildOneMobileBaseUrl(t),method:"POST",ttl:3600,data:this.buildOpenRtbRequestData(t,n),options:{contentType:"application/json",customHeaders:{"x-openrtb-version":"2.2"}}}}return r.bidderCode=t.bidder,r.bidId=t.bidId,r.userSyncOn=t.params.userSyncOn,r},buildMarketplaceUrl:function(e,t){var n,r=e.params,i=r.server,a=r.region||"us";return b.hasOwnProperty(a)||(d.logWarn("Unknown region '".concat(a,"' for AOL bidder.")),a="us"),n=i||b[a],r.region=a,this.applyProtocol(m({host:n,network:r.network,placement:parseInt(r.placement),pageid:r.pageId||0,sizeid:r.sizeId||0,alias:r.alias||d.getUniqueIdentifierStr(),misc:(new Date).getTime(),dynamicParams:this.formatMarketplaceDynamicParams(r,t)}))},buildOneMobileGetUrl:function(e,t){var n=e.params,r=n.dcn,i=n.pos,a=n.ext,o=this.buildOneMobileBaseUrl(e);if(r&&i){var s=this.formatOneMobileDynamicParams(a,t);o+=v({dcn:r,pos:i,dynamicParams:s})}return o},buildOneMobileBaseUrl:function(e){return this.applyProtocol(h({host:e.params.host||"c2shb.ssp.yahoo.com"}))},applyProtocol:function(e){return/^https?:\/\//i.test(e)?e:0===e.indexOf("//")?"".concat(y,":").concat(e):"".concat(y,"://").concat(e)},formatMarketplaceDynamicParams:function(e,t){var n=0<arguments.length&&void 0!==e?e:{},r=1<arguments.length&&void 0!==t?t:{},i={};n.bidFloor&&(i.bidfloor=n.bidFloor),d.assign(i,this.formatKeyValues(n.keyValues)),d.assign(i,this.formatConsentData(r));var a="";return d._each(i,function(e,t){a+="".concat(t,"=").concat(encodeURIComponent(e),";")}),a},formatOneMobileDynamicParams:function(e,t){var n=0<arguments.length&&void 0!==e?e:{},r=1<arguments.length&&void 0!==t?t:{};this.isSecureProtocol()&&(n.secure=_),d.assign(n,this.formatConsentData(r));var i="";return d._each(n,function(e,t){i+="&".concat(t,"=").concat(encodeURIComponent(e))}),i},buildOpenRtbRequestData:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r={id:e.params.id,imp:e.params.imp};return this.isEUConsentRequired(n)&&(d.deepSetValue(r,"regs.ext.gdpr",_),n.gdpr.consentString&&d.deepSetValue(r,"user.ext.consent",n.gdpr.consentString)),n.uspConsent&&d.deepSetValue(r,"regs.ext.us_privacy",n.uspConsent),r},isEUConsentRequired:function(e){return!!(e&&e.gdpr&&e.gdpr.gdprApplies)},formatKeyValues:function(e){var n={};return d._each(e,function(e,t){n["kv".concat(t)]=e}),n},formatConsentData:function(e){var t={};return this.isEUConsentRequired(e)&&(t.gdpr=_,e.gdpr.consentString&&(t.euconsent=e.gdpr.consentString)),e.uspConsent&&(t.us_privacy=e.uspConsent),t},parsePixelItems:function(e){var r=/\w*(?=\s)/,i=/src=("|')(.*?)\1/,a=[];if(e){var t=e.match(/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi);t&&t.forEach(function(e){var t=e.match(r)[0],n=e.match(i)[2];t&&t&&a.push({type:t===g.TAG?g.TYPE:f.TYPE,url:n})})}return a},_parseBidResponse:function(e,t){var n,r;try{n=e.seatbid[0].bid[0]}catch(e){return}if(n.ext&&n.ext.encp)r=n.ext.encp;else if(null===(r=n.price)||isNaN(r))return void d.logError("Invalid price in bid response",u.AOL,n);return{bidderCode:t.bidderCode,requestId:t.bidId,ad:n.adm,cpm:r,width:n.w,height:n.h,creativeId:n.crid||0,pubapiId:e.id,currency:e.cur||"USD",dealId:n.dealid,netRevenue:!0,ttl:t.ttl}},isOneMobileBidder:w,isSecureProtocol:function(){return"https:"===document.location.protocol}};t.exports=e("../shim.js").wrap({spec:z,unitIDKey:"placement"})},{"../shim.js":24}],3:[function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var r=e("../shim.js").polyfills,g=r.Renderer,x=r.utils,w=r.config,m=(r.registerBidder,r.getIabSubCategory),c=r.BANNER,h=r.NATIVE,u=r.VIDEO,v=r.ADPOD,l=r.auctionManager,A=r.find,S=r.includes,b=r.OUTSTREAM,y=r.INSTREAM,I="appnexus",z="https://ib.adnxs.com/ut/v3/prebid",p=["id","mimes","minduration","maxduration","startdelay","skippable","playback_method","frameworks"],k=["age","externalUid","segments","gender","dnt","language"],E=["geo","device_id"],R=["enabled","dongle","member_id","debug_timeout"],f={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},o="<script",s=/\/\/cdn\.adnxs\.com\/v/,d="trk.js",i={code:I,aliases:["appnexusAst","brealtime","emxdigital","pagescience","defymedia","gourmetads","matomy","featureforward","oftmedia","districtm","adasta"],supportedMediaTypes:[c,u,h],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,t){var r=e.map(B),n=A(e,O),i={};!0===w.getConfig("coppa")&&(i={coppa:!0}),n&&Object.keys(n.params.user).filter(function(e){return S(k,e)}).forEach(function(e){return i[e]=n.params.user[e]});var a,o=A(e,U);o&&o.params&&o.params.app&&(a={},Object.keys(o.params.app).filter(function(e){return S(E,e)}).forEach(function(e){return a[e]=o.params.app[e]}));var s,d=A(e,M);d&&d.params&&o.params.app&&o.params.app.id&&(s={appid:d.params.app.id});var c={},u={},l=x.getCookie("apn_prebid_debug")||null;if(l)try{c=JSON.parse(l)}catch(e){x.logError("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{var p=A(e,N);p&&p.debug&&(c=p.debug)}c&&c.enabled&&Object.keys(c).filter(function(e){return S(R,e)}).forEach(function(e){u[e]=c[e]});var f=A(e,P),g=f?parseInt(f.params.member,10):0,m=e[0].schain,h={tags:_(r),user:i,sdk:{source:"pbjs",version:window.AdBridg.globals.version},schain:m};if(0<g&&(h.member_id=g),o&&(h.device=a),d&&(h.app=s),w.getConfig("adpod.brandCategoryExclusion")&&(h.brand_category_uniqueness=!0),u.enabled&&(h.debug=u,x.logInfo("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(u,null,4))),t&&t.gdprConsent&&(h.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies}),t&&t.uspConsent&&(h.us_privacy=t.uspConsent),t&&t.refererInfo){var v={rd_ref:encodeURIComponent(t.refererInfo.referer),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map(function(e){return encodeURIComponent(e)}).join(",")};h.referrer_detection=v}A(e,q)&&e.filter(q).forEach(function(t){var e=function(e,t){var n=t.mediaTypes.video,r=n.durationRangeSec,i=n.requireExactDuration,a=function(e){var t=e.adPodDurationSec,n=e.durationRangeSec,r=e.requireExactDuration,i=x.getMinValueFromArray(n),a=Math.floor(t/i);return r?Math.max(a,n.length):a}(t.mediaTypes.video),o=x.getMaxValueFromArray(r),s=e.filter(function(e){return e.uuid===t.bidId}),d=x.fill.apply(x,_(s).concat([a]));if(i){var c=Math.ceil(a/r.length),u=x.chunk(d,c);r.forEach(function(t,e){u[e].map(function(e){L(e,"minduration",t),L(e,"maxduration",t)})})}else d.map(function(e){return L(e,"maxduration",o)});return d}(r,t),n=h.tags.filter(function(e){return e.uuid!==t.bidId});h.tags=[].concat(_(n),_(e))});var b=x.deepAccess(e[0],"userId.criteortus.".concat(I,".userid"));if(b){var y=[];y.push({provider:"criteo",user_id:b}),h.tpuids=y}return function(e,n){var r=[];if(15<e.tags.length){var i=x.deepClone(e);x.chunk(e.tags,15).forEach(function(e){i.tags=e;var t=JSON.stringify(i);r.push({method:"POST",url:z,data:t,bidderRequest:n})})}else{var t=JSON.stringify(e);r={method:"POST",url:z,data:t,bidderRequest:n}}return r}(h,t)},interpretResponse:function(e,t){var a=this,o=t.bidderRequest;e=e.body;var s=[];if(!e||e.error){var n="in response for ".concat(o.bidderCode," adapter");return e&&e.error&&(n+=": ".concat(e.error)),x.logError(n),s}if(e.tags&&e.tags.forEach(function(e){var t,n,r=(t=e)&&t.ads&&t.ads.length&&A(t.ads,function(e){return e.rtb});if(r&&0!==r.cpm&&S(a.supportedMediaTypes,r.ad_type)){var i=function(t,e,n){var r=x.getBidRequest(t.uuid,[n]),i={requestId:t.uuid,cpm:e.cpm,creativeId:e.creative_id,dealId:e.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:r.adUnitCode,appnexus:{buyerMemberId:e.buyer_member_id,dealPriority:e.deal_priority,dealCode:e.deal_code}};e.advertiser_id&&(i.meta=x.assign({},i.meta,{advertiserId:e.advertiser_id}));if(e.rtb.video){switch(x.assign(i,{width:e.rtb.video.player_width,height:e.rtb.video.player_height,vastImpUrl:e.notify_url,ttl:3600}),x.deepAccess(r,"mediaTypes.video.context")){case v:var a=m(r.bidder,e.brand_category_id);i.meta=x.assign({},i.meta,{iabSubCatId:a});var o=e.rtb.dealPriority;i.video={context:v,durationSeconds:Math.floor(e.rtb.video.duration_ms/1e3),dealTier:o},i.vastUrl=e.rtb.video.asset_url;break;case b:if(i.adResponse=t,i.adResponse.ad=i.adResponse.ads[0],i.adResponse.ad.video=i.adResponse.ad.rtb.video,i.vastXml=e.rtb.video.content,e.renderer_url){var s=A(n.bids,function(e){return e.bidId===t.uuid}),d=x.deepAccess(s,"renderer.options");i.renderer=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=g.install({id:t.renderer_id,url:t.renderer_url,config:n,loaded:!1,adUnitCode:e});try{r.setRender(H)}catch(e){x.logWarn("Prebid Error calling setRender on renderer",e)}return r.setEventHandlers({impression:function(){return x.logMessage("AppNexus outstream video impression event")},loaded:function(){return x.logMessage("AppNexus outstream video loaded event")},ended:function(){x.logMessage("AppNexus outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),r}(i.adUnitCode,e,d)}break;case y:i.vastUrl=e.notify_url+"&redir="+encodeURIComponent(e.rtb.video.asset_url)}}else if(e.rtb[h]){var c=e.rtb[h],u=e.viewability.config.replace("src=","data-src="),l=c.javascript_trackers;null==l?l=u:x.isStr(l)?l=[l,u]:l.push(u),i[h]={title:c.title,body:c.desc,body2:c.desc2,cta:c.ctatext,rating:c.rating,sponsoredBy:c.sponsored,privacyLink:c.privacy_link,address:c.address,downloads:c.downloads,likes:c.likes,phone:c.phone,price:c.price,salePrice:c.saleprice,clickUrl:c.link.url,displayUrl:c.displayurl,clickTrackers:c.link.click_trackers,impressionTrackers:c.impression_trackers,javascriptTrackers:l},c.main_img&&(i.native.image={url:c.main_img.url,height:c.main_img.height,width:c.main_img.width}),c.icon&&(i.native.icon={url:c.icon.url,height:c.icon.height,width:c.icon.width})}else{x.assign(i,{width:e.rtb.banner.width,height:e.rtb.banner.height,ad:e.rtb.banner.content});try{var p=e.rtb.trackers[0].impression_urls[0],f=x.createTrackPixelHtml(p);i.ad+=f}catch(e){x.logError("Error appending tracking pixel",e)}}return i}(e,r,o);i.mediaType=(n=r.ad_type)===u?u:n===h?h:c,s.push(i)}}),e.debug&&e.debug.debug_info){var r="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info;r=r.replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),x.logMessage("https://console.appnexus.com/docs/understanding-the-debug-auction"),x.logMessage(r)}return s},getMappingFileInfo:function(){return{url:"https://acdn.adnxs.com/prebid/appnexus-mapping/mappings.json",refreshInDays:7}},getUserSyncs:function(e){if(e.iframeEnabled)return[{type:"iframe",url:"https://acdn.adnxs.com/ib/static/usersync/v3/async_usersync.html"}]},transformBidParams:function(n,e){return n=x.convertTypes({member:"string",invCode:"string",placementId:"number",keywords:x.transformBidderParamKeywords},n),e&&(n.use_pmt_rule="boolean"==typeof n.usePaymentRule&&n.usePaymentRule,n.usePaymentRule&&delete n.usePaymentRule,j(n.keywords)&&n.keywords.forEach(T),Object.keys(n).forEach(function(e){var t=x.convertCamelToUnderscore(e);t!==e&&(n[t]=n[e],delete n[e])})),n},onBidWon:function(e){e.native&&function(e){var t=function(e){var t;if(x.isStr(e)&&C(e))t=e;else if(x.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];C(r)&&(t=r)}return t}(e.native.javascriptTrackers);if(t)for(var n="pbjs_adid="+e.adId+";pbjs_auc="+e.adUnitCode,r=function(e){var t=e.indexOf('src="')+5,n=e.indexOf('"',t);return e.substring(t,n)}(t),i=r.replace("dom_id=%native_dom_id%",n),a=document.getElementsByTagName("iframe"),o=!1,s=0;s<a.length&&!o;s++){var d=a[s];try{var c=d.contentDocument||d.contentWindow.document;if(c)for(var u=c.getElementsByTagName("script"),l=0;l<u.length&&!o;l++){var p=u[l];p.getAttribute("data-src")==r&&(p.setAttribute("src",i),p.setAttribute("data-src",""),p.removeAttribute&&p.removeAttribute("data-src"),o=!0)}}catch(e){if(!(e instanceof DOMException&&"SecurityError"===e.name))throw e}}}(e)}};function j(e){return x.isArray(e)&&0<e.length}function T(e){j(e.value)&&""===e.value[0]&&delete e.value}function C(e){var t=e.match(s),n=null!=t&&1<=t.length,r=e.match(d),i=null!=r&&1<=r.length;return e.startsWith(o)&&i&&n}function B(t){var i,a,n={};if(n.sizes=D(t.sizes),n.primary_size=n.sizes[0],n.ad_types=[],n.uuid=t.bidId,t.params.placementId?n.id=parseInt(t.params.placementId,10):n.code=t.params.invCode,n.allow_smaller_sizes=t.params.allowSmallerSizes||!1,n.use_pmt_rule=t.params.usePaymentRule||!1,n.prebid=!0,n.disable_psa=!0,t.params.reserve&&(n.reserve=t.params.reserve),t.params.position&&(n.position={above:1,below:2}[t.params.position]||0),t.params.trafficSourceCode&&(n.traffic_source_code=t.params.trafficSourceCode),t.params.privateSizes&&(n.private_sizes=D(t.params.privateSizes)),t.params.supplyType&&(n.supply_type=t.params.supplyType),t.params.pubClick&&(n.pubclick=t.params.pubClick),t.params.extInvCode&&(n.ext_inv_code=t.params.extInvCode),t.params.externalImpId&&(n.external_imp_id=t.params.externalImpId),!x.isEmpty(t.params.keywords)){var e=x.transformBidderParamKeywords(t.params.keywords);0<e.length&&e.forEach(T),n.keywords=e}if((t.mediaType===h||x.deepAccess(t,"mediaTypes.".concat(h)))&&(n.ad_types.push(h),0===n.sizes.length&&(n.sizes=D([1,1])),t.nativeParams)){var r=(i=t.nativeParams,a={},Object.keys(i).forEach(function(e){var t=f[e]&&f[e].serverName||f[e]||e,n=f[e]&&f[e].requiredParams;if(a[t]=x.assign({},n,i[e]),(t===f.image.serverName||t===f.icon.serverName)&&a[t].sizes){var r=a[t].sizes;(x.isArrayOfNums(r)||x.isArray(r)&&0<r.length&&r.every(function(e){return x.isArrayOfNums(e)}))&&(a[t].sizes=D(a[t].sizes))}t===f.privacyLink&&(a.privacy_supported=!0)}),a);n[h]={layouts:[r]}}var o=x.deepAccess(t,"mediaTypes.".concat(u)),s=x.deepAccess(t,"mediaTypes.video.context");t.mediaType!==u&&!o||n.ad_types.push(u),(t.mediaType===u||o&&"outstream"!==s)&&(n.require_asset_url=!0),t.params.video&&(n.video={},Object.keys(t.params.video).filter(function(e){return S(p,e)}).forEach(function(e){return n.video[e]=t.params.video[e]})),t.renderer&&(n.video=x.assign({},n.video,{custom_renderer_present:!0}));var d=A(l.getAdUnits(),function(e){return t.transactionId===e.transactionId});return d&&d.mediaTypes&&d.mediaTypes.banner&&n.ad_types.push(c),0===n.ad_types.length&&delete n.ad_types,n}function D(e){var t=[],n={};if(x.isArray(e)&&2===e.length&&!x.isArray(e[0]))n.width=parseInt(e[0],10),n.height=parseInt(e[1],10),t.push(n);else if("object"===a(e))for(var r=0;r<e.length;r++){var i=e[r];(n={}).width=parseInt(i[0],10),n.height=parseInt(i[1],10),t.push(n)}return t}function O(e){return!!e.params.user}function P(e){return!!parseInt(e.params.member,10)}function U(e){if(e.params)return!!e.params.app}function M(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function N(e){return!!e.debug}function q(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===v}function L(e,t,n){x.isEmpty(e.video)&&(e.video={}),e.video[t]=n}function H(e){e.renderer.push(function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},function(e,t,n){e.renderer.handleVideoEvent({id:t,eventName:n})}.bind(null,e))})}t.exports=e("../shim.js").wrap({spec:i,unitIDKey:"placementId"})},{"../shim.js":24}],4:[function(e,t,n){var g=e("../utils.js"),o=e("../ajax.js");t.exports=function(a,e,t){var f=function(e){return"video"===e};this.execute=function(t){var d=[],c=[],u=[],l={},p=!1;t.eachBidRequest(a,function(e,o){var s=o.format;g.each(o.all_sizes,function(e){if(t=e,("fullwidth"!==(n=s)||"300x250"!==t)&&"video"!=(i=n)&&"native"!=i&&"300x250"!=(r=t)&&"320x50"!=r)return g.err("FAN invalid size/format",e,s);var t,n,r,i,a=o.bidder_unit_id;if(l.hasOwnProperty(a))return g.err("FAN duplicate placement",a);d.push(a),c.push(o.format||e),u.push(f(s)?"":"5.5.web"),l[a]=o,f(s)&&(p=e.split("x"))})});var e=!1;try{e=!!String(window.location.search).match("anhb_testmode")}catch(e){}var n=encodeURIComponent(g.url().href),r={placementids:d,adformats:c,testmode:e,pageurl:n,sdk:u,pbv:"1.12.0"};p&&(r.playerwidth=parseInt(p[0],10),r.playerheight=parseInt(p[1],10)),g.safari&&(r.cb=g.genUUID());var i={url:"https://an.facebook.com/v2/placementbid.json?"+g.toqs(r),withCredentials:!0,max_ms:t.ajax_ms};o(i,function(e,d){if(e)return t.markBidderEmpty(a),"timeout"!=e.type&&g.err("FAN had error: ",e);if(d)try{d=JSON.parse(d)}catch(e){g.err("FAN JSON fail"),d=!1}if(!d)return t.markBidderEmpty(a);g.each(d.bids||[],function(e,s){g.each(e,function(e){var t=l[s];if(!t)return g.err("FAN bad id",s);var n=e.bid_id,r=e.bid_price_cents;if(r){var i,a,o=t.size.split("x");t.unit.addBid(t,{creative:(i=s,"<html><head>"+("native"===(a=t.format||"")?'<script>window.onload=function(){if(parent){var o=document.getElementsByTagName("head")[0];var s=parent.document.getElementsByTagName("style");for(var i=0;i<s.length;i++)o.appendChild(s[i].cloneNode(true));}}<\/script>':"")+"</head><body><div style=\"display:none;position:relative;\"><script type='text/javascript'>var data = {placementid:'"+i+"',format:'"+a+"',bidid:'"+n+"',onAdLoaded:function(e){console.log('Audience Network ["+i+"] ad loaded');e.style.display = 'block';},onAdError:function(c,m){console.log('Audience Network ["+i+"] error (' + c + ') ' + m);}};(function(a,b,c){var d='https://www.facebook.com',e='https://connect.facebook.net/en_US/fbadnw55.js',f={iframeLoaded:true,xhrLoaded:true},g=a.data,h=function(){if(Date.now){return Date.now();}else return +new Date();},i=function(aa){var ba=d+'/audience_network/client_event',ca={cb:h(),event_name:'ADNW_ADERROR',ad_pivot_type:'audience_network_mobile_web',sdk_version:'5.5.web',app_id:g.placementid.split('_')[0],publisher_id:g.placementid.split('_')[1],error_message:aa},da=[];for(var ea in ca)da.push(encodeURIComponent(ea)+'='+encodeURIComponent(ca[ea]));var fa=ba+'?'+da.join('&'),ga=new XMLHttpRequest();ga.open('GET',fa,true);ga.send();if(g.onAdError)g.onAdError('1000','Internal error.');},j=function(){if(b.currentScript){return b.currentScript;}else{var aa=b.getElementsByTagName('script');return aa[aa.length-1];}},k=function(aa){try{return aa.document.referrer;}catch(ba){}return '';},l=function(){var aa=a,ba=[aa];try{while(aa!==aa.parent&&aa.parent.document)ba.push(aa=aa.parent);}catch(ca){}return ba.reverse();},m=function(){var aa=l();for(var ba=0;ba<aa.length;ba++){var ca=aa[ba],da=ca.ADNW||{};ca.ADNW=da;if(!ca.ADNW)continue;return da.v55=da.v55||{ads:[],window:ca};}throw new Error('no_writable_global');},n=function(aa){var ba=aa.indexOf('/',aa.indexOf('://')+3);if(ba===-1)return aa;return aa.substring(0,ba);},o=function(aa){return aa.location.href||k(aa);},p=function(aa){if(aa.sdkLoaded)return;var ba=aa.window.document,ca=ba.createElement('iframe');ca.name='fbadnw';ca.style.display='none';ba.body.appendChild(ca);var da=ca.contentDocument.createElement('script');da.src=e;da.async=true;ca.contentDocument.body.appendChild(da);aa.sdkLoaded=true;},q=function(aa){var ba=/^https?:\\/\\/www\\.google(\\.com?)?\\.\\w{2,3}$/;return !!aa.match(ba);},r=function(aa){return !!aa.match(/cdn\\.ampproject\\.org$/);},s=function(){var aa=c.ancestorOrigins||[],ba=aa[aa.length-1]||c.origin,ca=aa[aa.length-2]||c.origin;if(q(ba)&&r(ca)){return n(ca);}else return n(ba);},t=function(aa){try{return JSON.parse(aa);}catch(ba){i(ba.message);throw ba;}},u=function(aa,ba,ca){if(!aa.iframe){var da=ca.createElement('iframe');da.src=d+'/audiencenetwork/iframe/';da.style.display='none';ca.body.appendChild(da);aa.iframe=da;aa.iframeAppendedTime=h();aa.iframeData={};}ba.iframe=aa.iframe;ba.iframeData=aa.iframeData;ba.tagJsIframeAppendedTime=aa.iframeAppendedTime||0;},v=function(aa){var ba=d+'/audiencenetwork/xhr/?sdk=5.5.web';for(var ca in aa)if(typeof aa[ca]!=='function')ba+='&'+ca+'='+encodeURIComponent(aa[ca]);var da=new XMLHttpRequest();da.open('GET',ba,true);da.withCredentials=true;da.onreadystatechange=function(){if(da.readyState===4){var ea=t(da.response);aa.events.push({name:'xhrLoaded',source:aa.iframe.contentWindow,data:ea,postMessageTimestamp:h(),receivedTimestamp:h()});}};da.send();},w=function(aa,ba){var ca=d+'/audiencenetwork/xhriframe/?sdk=5.5.web';for(var da in ba)if(typeof ba[da]!=='function')ca+='&'+da+'='+encodeURIComponent(ba[da]);var ea=b.createElement('iframe');ea.src=ca;ea.style.display='none';b.body.appendChild(ea);ba.iframe=ea;ba.iframeData={};ba.tagJsIframeAppendedTime=h();},x=function(aa){var ba=function(event){try{var da=event.data;if(da.name in f)aa.events.push({name:da.name,source:event.source,data:da.data});}catch(ea){}},ca=aa.iframe.contentWindow.parent;ca.addEventListener('message',ba,false);},y=function(aa){if(aa.context&&aa.context.sourceUrl)return true;try{return !!JSON.parse(decodeURI(aa.name)).ampcontextVersion;}catch(ba){return false;}},z=function(aa){var ba=h(),ca=l()[0],da=j().parentElement,ea=ca!=a.top,fa=ca.$sf&&ca.$sf.ext,ga=o(ca),ha=m();p(ha);var ia={amp:y(ca),events:[],tagJsInitTime:ba,rootElement:da,iframe:null,tagJsIframeAppendedTime:ha.iframeAppendedTime||0,url:ga,domain:s(),channel:n(o(ca)),width:screen.width,height:screen.height,pixelratio:a.devicePixelRatio,placementindex:ha.ads.length,crossdomain:ea,safeframe:!!fa,placementid:g.placementid,format:g.format||'300x250',testmode:!!g.testmode,onAdLoaded:g.onAdLoaded,onAdError:g.onAdError};if(g.bidid)ia.bidid=g.bidid;if(ea){w(ha,ia);}else{u(ha,ia,ca.document);v(ia);}; x(ia);ia.rootElement.dataset.placementid=ia.placementid;ha.ads.push(ia);};try{z();}catch(aa){i(aa.message||aa);throw aa;}})(window,document,location);<\/script>"+("native"===a?'<div class="thirdPartyRoot"><a class="fbAdLink"><div class="fbAdMedia thirdPartyMediaClass"></div><div class="fbAdSubtitle thirdPartySubtitleClass"></div><div class="fbDefaultNativeAdWrapper"><div class="fbAdCallToAction thirdPartyCallToActionClass"></div><div class="fbAdTitle thirdPartyTitleClass"></div></div></a></div>':"")+"</div></body></html>"),cpm:r/100,width:parseInt(o[0],10),height:parseInt(o[1],10),extras:{fbid:n,cur:d.currency}})}})}),d.errors&&d.errors.length&&g.err("FAN API errors",d.errors),t.markBidderEmpty(a)})}}},{"../ajax.js":12,"../utils.js":26}],5:[function(e,t,n){"use strict";function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=e("../shim.js").polyfills,h=r.utils,g=r.BANNER,v=r.VIDEO,i=r.find,b=r.config,a=r.isInteger,o=(r.registerBidder,[g,v]),y=100,_=35,x=3600,w=!0,A={JPY:1};function c(e){var t=u(e);t.video=h.deepClone(e.params.video),t.video.w=e.params.size[0],t.video.h=e.params.size[1];var n=h.deepAccess(e,"mediaTypes.video.context");return n&&("instream"===n?t.video.placement=1:"outstream"===n?t.video.placement=4:h.logWarn("ix bidder params: video context '".concat(n,"' is not supported"))),t}function u(e){var t={};return t.id=e.bidId,t.ext={},t.ext.siteID=e.params.siteId,!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id?t.ext.sid="".concat(e.params.size[0],"x").concat(e.params.size[1]):t.ext.sid=String(e.params.id),e.params.hasOwnProperty("bidFloor")&&e.params.hasOwnProperty("bidFloorCur")&&(t.bidfloor=e.params.bidFloor,t.bidfloorcur=e.params.bidFloorCur),t}function s(e){return Array.isArray(e)&&2===e.length&&a(e[0])&&a(e[1])}function l(e,t){if(s(e))return e[0]===t[0]&&e[1]===t[1];for(var n=0;n<e.length;n++)if(e[n][0]===t[0]&&e[n][1]===t[1])return 1}function S(t,e){if(t)return i(e,function(e){return e.id===t})}function p(e,t,n,r){var i=[];if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo){var a=window.headertag.getIdentityInfo();if(a&&"object"===m(a))for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];!s.responsePending&&s.data&&"object"===m(s.data)&&Object.keys(s.data).length&&i.push(s.data)}}var d={};if(d.id=e[0].bidderRequestId,d.imp=n,d.site={},d.ext={},d.ext.source="prebid",0<i.length&&(d.user={},d.user.eids=i),document.referrer&&""!==document.referrer&&(d.site.ref=document.referrer),t){if(t.gdprConsent){var c=t.gdprConsent;c.hasOwnProperty("gdprApplies")&&(d.regs={ext:{gdpr:c.gdprApplies?1:0}}),c.hasOwnProperty("consentString")&&(d.user=d.user||{},d.user.ext={consent:c.consentString||""})}t.uspConsent&&h.deepSetValue(d,"regs.ext.us_privacy",t.uspConsent),t.refererInfo&&(d.site.page=t.refererInfo.referer)}var u={},l=b.getConfig("ix");if(l){if("object"===m(l.firstPartyData)){var p=l.firstPartyData,f="?";for(var g in p)p.hasOwnProperty(g)&&(f+="".concat(encodeURIComponent(g),"=").concat(encodeURIComponent(p[g]),"&"));f=f.slice(0,-1),d.site.page+=f}"number"==typeof l.timeout&&(u.t=l.timeout)}return u.s=e[0].params.siteId,u.v=r,u.r=JSON.stringify(d),u.ac="j",u.sd=1,8.1===r&&(u.nf=1),{method:"GET",url:"https://as-sec.casalemedia.com/cygnus",data:u}}var d={code:"ix",supportedMediaTypes:o,isBidRequestValid:function(e){if(!s(e.params.size))return h.logError("ix bidder params: bid size has invalid format."),!1;if(!l(e.sizes,e.params.size))return h.logError("ix bidder params: bid size is not included in ad unit sizes."),!1;if(e.hasOwnProperty("mediaType")&&!h.contains(o,e.mediaType))return!1;if(e.hasOwnProperty("mediaTypes")&&!h.deepAccess(e,"mediaTypes.banner.sizes")&&!h.deepAccess(e,"mediaTypes.video.playerSize"))return!1;if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return h.logError("ix bidder params: siteId must be string or number value."),!1;var t,n,r=e.params.hasOwnProperty("bidFloor"),i=e.params.hasOwnProperty("bidFloorCur");return!!(!r&&!i||r&&i&&(t=e.params.bidFloor,n=e.params.bidFloorCur,Boolean("number"==typeof t&&"string"==typeof n&&n.match(/^[A-Z]{3}$/))))||(h.logError("ix bidder params: bidFloor / bidFloorCur parameter has invalid format."),!1)},buildRequests:function(e,t){for(var n,r,i=[],a=[],o=[],s=null,d=0;d<e.length;d++)(s=e[d]).mediaType!==v&&!h.deepAccess(s,"mediaTypes.video")||(s.mediaType===v||l(s.mediaTypes.video.playerSize,s.params.size)?o.push(c(s)):h.logError("Bid size is not included in video playerSize")),s.mediaType!==g&&!h.deepAccess(s,"mediaTypes.banner")&&(s.mediaType||s.mediaTypes)||a.push((r=void 0,(r=u(n=s)).banner={},r.banner.w=n.params.size[0],r.banner.h=n.params.size[1],r.banner.topframe=h.inIframe()?0:1,r));return 0<a.length&&i.push(p(e,t,a,7.2)),0<o.length&&i.push(p(e,t,o,8.1)),i},interpretResponse:function(e,t){var n=[];if(!e.hasOwnProperty("body")||!e.body.hasOwnProperty("seatbid"))return n;for(var r,i,a,o,s=e.body,d=s.seatbid,c=0;c<d.length;c++)if(d[c].hasOwnProperty("bid"))for(var u=d[c].bid,l=JSON.parse(t.data.r),p=0;p<u.length;p++){var f=S(u[p].impid,l.imp);r=u[p],i=s.cur,a=f,o=void 0,o={},A.hasOwnProperty(i)?o.cpm=r.price/A[i]:o.cpm=r.price/y,o.requestId=r.impid,o.dealId=h.deepAccess(r,"ext.dealid"),o.netRevenue=w,o.currency=i,o.creativeId=r.hasOwnProperty("crid")?r.crid:"-",h.deepAccess(r,"ext.vasturl")?(o.vastUrl=r.ext.vasturl,o.width=a.video.w,o.height=a.video.h,o.mediaType=v,o.ttl=x):(o.ad=r.adm,o.width=r.w,o.height=r.h,o.mediaType=g,o.ttl=_),o.meta={},o.meta.networkId=h.deepAccess(r,"ext.dspid"),o.meta.brandId=h.deepAccess(r,"ext.advbrandid"),o.meta.brandName=h.deepAccess(r,"ext.advbrand"),n.push(o)}return n},transformBidParams:function(e){return h.convertTypes({siteID:"number"},e)}};t.exports=e("../shim.js").wrap({spec:d,unitIDKey:"siteId"})},{"../shim.js":24}],6:[function(e,t,n){"use strict";var r=e("../shim.js").polyfills,d=(r.registerBidder,r.utils),i=r.config,a=r.url,o=r.BANNER,s=r.NATIVE,c=r.getRefererInfo,u=(r.$$REPO_AND_VERSION$$,"medianet"),l={NOT_DETERMINED:0,ABOVE_THE_FOLD:1,BELOW_THE_FOLD:2},p="client_timeout",f="client_bid_won",g=c(),m={};function h(e){var t={domain:(e=e||{}).domain||m.urlData.domain,page:e.page||m.urlData.page,ref:e.ref||function(){try{return window.top.document.referrer}catch(e){return document.referrer}}(),isTop:e.isTop||m.urlData.isTop};return d.assign(t,function(){if(m.pageMeta)return m.pageMeta;var e=v('link[rel="canonical"]',"href"),t=v('meta[property="og:url"]',"content"),n=v('meta[name="twitter:url"]',"content");return m.pageMeta=d.assign({},e&&{canonical_url:e},t&&{og_url:t},n&&{twitter_url:n}),m.pageMeta}())}function v(e,t){var n,r,i=function(e,t){try{var n=d.getWindowTop().document.querySelector(e);if(null!==n&&n[t])return n[t]}catch(e){}}(e,t);return i&&(n=i,(r=d.getWindowTop().document.createElement("a")).href=n,r.href)}function b(e,t){return e.filter(function(e){return e.type===t})}function y(e){return{w:parseInt(e[0],10),h:parseInt(e[1],10)}}function _(e){var t,n={id:e.bidId,ext:{dfp_id:e.adUnitCode,display_count:e.bidRequestsCount},all:e.params},r=d.deepAccess(e,"mediaTypes.banner.sizes")||e.sizes||[];if(0<r.length&&(n.banner=(t=r,d.isArray(t)&&2===t.length&&!d.isArray(t[0])?[y(t)]:t.map(function(e){return y(e)}))),e.nativeParams)try{n.native=JSON.stringify(e.nativeParams)}catch(e){d.logError("".concat(u," : Incorrect JSON : bidRequest.nativeParams"))}e.params.crid&&(n.tagid=e.params.crid.toString());var i=parseFloat(e.params.bidfloor);i&&(n.bidfloor=i);var a,o=function(e){var t=document.getElementById(e);if(t&&t.getBoundingClientRect){var n=t.getBoundingClientRect(),r={};return r.top_left={y:n.top,x:n.left},r.bottom_right={y:n.bottom,x:n.right},r}return null}(e.adUnitCode);if(o&&n.banner&&0!==n.banner.length){var s={top_left:{x:(a=o).top_left.x+window.pageXOffset,y:a.top_left.y+window.pageYOffset},bottom_right:{x:a.bottom_right.x+window.pageXOffset,y:a.bottom_right.y+window.pageYOffset}};n.ext.coordinates=s,n.ext.viewability=w(o.top_left,x(n.banner)),.5<w(s.top_left,x(n.banner))?n.ext.visibility=l.ABOVE_THE_FOLD:n.ext.visibility=l.BELOW_THE_FOLD}else n.ext.visibility=l.NOT_DETERMINED;return n}function x(e){return e.reduce(function(e,t){return t.h*t.w<e.h*e.w?t:e})}function w(e,t){var n=t.w*t.h,r=I.getWindowSize(),i={x:e.x+t.w,y:e.y+t.h};return 0==n||-1===r.w||-1===r.h?0:function(e,t,n,r){if(e.x>r.x||t.x<n.x||e.y>r.y||t.y<n.y)return 0;return(Math.min(t.x,r.x)-Math.max(e.x,n.x))*(Math.min(t.y,r.y)-Math.max(e.y,n.y))}(e,i,{x:0,y:0},{x:r.w,y:r.h})/n}function A(e,t){return{site:h(e[0].params.site),ext:function(e,t,n){var r={customer_id:e.cid,prebid_version:AdBridg.globals.version};r.gdpr_applies=!(!t||!t.gdprApplies),r.gdpr_applies&&(r.gdpr_consent_string=t.consentString||""),r.usp_applies=!!n,r.usp_applies&&(r.usp_consent_string=n||"");var i=I.getWindowSize();return-1!==i.w&&-1!==i.h&&(r.screen=i),r}(e[0].params,t.gdprConsent,t.uspConsent),id:e[0].auctionId,imp:e.map(function(e){return _(e)}),tmax:t.timeout||i.getConfig("bidderTimeout")}}function S(e,t){var n={protocol:"https",hostname:"qsearch-a.akamaihd.net/log",search:function(e,t){t=d.isArray(t)&&t||[];var n={logid:"kfk",evtid:"projectevents",project:"prebid"};return n.acid=d.deepAccess(t,"0.auctionId")||"",n.cid=AdBridg.globals.medianetGlobals.cid||"",n.crid=t.map(function(e){return d.deepAccess(e,"params.0.crid")||e.adUnitCode}).join("|"),n.adunit_count=t.length||0,n.dn=m.urlData.domain||"",n.requrl=m.urlData.page||"",n.istop=m.urlData.isTop||"",n.event=e.name||"",n.value=e.value||"",n.rd=e.related_data||"",n}(e,t)};d.triggerPixel(a.format(n))}m.urlData={domain:a.parse(g.referer).host,page:g.referer,isTop:g.reachedTop},AdBridg.globals.medianetGlobals={};var I={code:u,supportedMediaTypes:[o,s],isBidRequestValid:function(e){return e.params?e.params.cid&&d.isStr(e.params.cid)&&!d.isEmptyStr(e.params.cid)?(d.assign(AdBridg.globals.medianetGlobals,!AdBridg.globals.medianetGlobals.cid&&{cid:e.params.cid}),!0):(d.logError("".concat(u," : cid should be a string")),!1):(d.logError("".concat(u," : Missing bid parameters")),!1)},buildRequests:function(e,t){var n=A(e,t);return{method:"POST",url:"https://prebid.media.net/rtb/prebid",data:JSON.stringify(n)}},interpretResponse:function(e){var t=[];if(!e||!e.body)return d.logInfo("".concat(u," : response is empty")),t;var n=e.body.bidList;return d.isArray(n)&&0!==n.length?t=n.filter(function(e){return!1===(t=e).no_bid&&0<parseFloat(t.cpm);var t}):(d.logInfo("".concat(u," : no bids")),t)},getUserSyncs:function(e,t){var n,r=(n=t,!d.isEmpty(n)&&n[0].body&&n[0].body.ext&&d.isArray(n[0].body.ext.csUrl)?n[0].body.ext.csUrl:[]);return e.iframeEnabled?b(r,"iframe"):e.pixelEnabled?b(r,"image"):void 0},onTimeout:function(e){try{S({name:p,value:e.length,related_data:e[0].timeout||i.getConfig("bidderTimeout")},e)}catch(e){}},onBidWon:function(e){try{S({name:f,value:e.cpm},[e])}catch(e){}},clearMnData:function(){m={}},getWindowSize:function(){return{w:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||-1,h:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||-1}}};t.exports=e("../shim.js").wrap({spec:I,unitIDKey:"crid"})},{"../shim.js":24}],7:[function(e,t,n){"use strict";function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var r=e("../shim.js").polyfills,d=r.config,c=(r.registerBidder,r.utils),i=r.BANNER,s=r.VIDEO,u=r.parse,l="hb_pb",p="3.0.1",f={idl_env:"lre",pubcid:"pubcid",tdid:"ttduuid"},a={code:"openx",supportedMediaTypes:[i,s],isBidRequestValid:function(e){var t=e.params.delDomain||e.params.platform;return c.deepAccess(e,"mediaTypes.banner")&&t?!!e.params.unit||0<c.deepAccess(e,"mediaTypes.banner.sizes.length"):!(!e.params.unit||!t)},buildRequests:function(e,r){if(0===e.length)return[];var i=[],t=o(e.reduce(function(e,t){var n;return n=t,c.deepAccess(n,"mediaTypes.video")&&!c.deepAccess(n,"mediaTypes.banner")||n.mediaType===s?e[0].push(t):e[1].push(t),e},[[],[]]),2),n=t[0],a=t[1];return 0<a.length&&i.push(function(e,t){var r=[],i=!1,n=g(e,t),a=c._map(e,function(e){return e.params.unit});n.aus=c._map(e,function(e){return c.parseSizesInput(e.mediaTypes.banner.sizes).join(",")}).join("|"),n.divIds=c._map(e,function(e){return encodeURIComponent(e.adUnitCode)}).join(","),a.some(function(e){return e})&&(n.auid=a.join(","));e.some(function(e){return e.params.doNotTrack})&&(n.ns=1);!0!==d.getConfig("coppa")&&!e.some(function(e){return e.params.coppa})||(n.tfcd=1);e.forEach(function(t){if(t.params.customParams){var e=c._map(Object.keys(t.params.customParams),function(e){return function(e,t){var n=t[e];c.isArray(n)&&(n=n.join(","));return(e.toLowerCase()+"="+n.toLowerCase()).replace("+",".").replace("/","_")}(e,t.params.customParams)}),n=window.btoa(e.join("&"));i=!0,r.push(n)}else r.push("")}),i&&(n.tps=r.join(","));var o=[],s=!1;e.forEach(function(e){e.params.customFloor?(o.push(Math.round(100*e.params.customFloor)/100*1e3),s=!0):o.push(0)}),s&&(n.aumfs=o.join(","));return{method:"GET",url:n.ph?"https://u.openx.net/w/1.0/arj":"https://".concat(e[0].params.delDomain,"/w/1.0/arj"),data:n,payload:{bids:e,startTime:new Date}}}(a,r)),0<n.length&&n.forEach(function(e){var t,n;i.push({method:"GET",url:(n=function(e,t){var n,r,i=g([e],t),a=c.deepAccess(e,"params.video")||{},o=c.deepAccess(e,"mediaTypes.video.context"),s=c.deepAccess(e,"mediaTypes.video.playerSize");c.isArray(e.sizes)&&2===e.sizes.length&&!c.isArray(e.sizes[0])?(n=parseInt(e.sizes[0],10),r=parseInt(e.sizes[1],10)):c.isArray(e.sizes)&&c.isArray(e.sizes[0])&&2===e.sizes[0].length?(n=parseInt(e.sizes[0][0],10),r=parseInt(e.sizes[0][1],10)):c.isArray(s)&&2===s.length&&(n=parseInt(s[0],10),r=parseInt(s[1],10));Object.keys(a).forEach(function(e){"openrtb"===e?(a[e].w=n||a[e].w,a[e].v=r||a[e].v,i[e]=JSON.stringify(a[e])):e in i||"url"===e||(i[e]=a[e])}),i.auid=e.params.unit,i.vwd=n||a.vwd,i.vht=r||a.vht,"outstream"===o&&(i.vos="101");a.mimes&&(i.vmimes=a.mimes);return i}(t=e,r)).ph?"https://u.openx.net/v/1.0/avjp":"https://".concat(t.params.delDomain,"/v/1.0/avjp"),data:n,payload:{bid:t,startTime:new Date}})}),i},interpretResponse:function(e,t){var n=e.body;return((/avjp$/.test(t.url)?s:i)===s?function(e,t){var n=t.bid,r=(t.startTime,[]);if(void 0!==e&&""!==e.vastUrl&&""!==e.pub_rev){var i=u(e.vastUrl).search||{},a={};a.requestId=n.bidId,a.ttl=300,a.netRevenue=!0,a.currency=e.currency,a.cpm=Number(e.pub_rev)/1e3,a.width=e.width,a.height=e.height,a.creativeId=e.adid,a.vastUrl=e.vastUrl,a.mediaType=s,e.ph=i.ph,e.colo=i.colo,e.ts=i.ts,r.push(a)}return r}:function(e,t){for(var n=t.bids,r=(t.startTime,e.ads.ad),i=[],a=0;a<r.length;a++){var o=r[a],s=parseInt(o.idx,10),d={};if(d.requestId=n[s].bidId,o.pub_rev){d.cpm=Number(o.pub_rev)/1e3;var c=o.creative[0];c&&(d.width=c.width,d.height=c.height),d.creativeId=c.id,d.ad=o.html,o.deal_id&&(d.dealId=o.deal_id),d.ttl=300,d.netRevenue=!0,d.currency=o.currency,o.tbd&&(d.tbd=o.tbd),d.ts=o.ts,d.meta={},o.brand_id&&(d.meta.brandId=o.brand_id),o.adv_id&&(d.meta.dspid=o.adv_id),i.push(d)}}return i})(n,t.payload)},getUserSyncs:function(e,t,n,r){if(e.iframeEnabled||e.pixelEnabled)return[{type:e.iframeEnabled?"iframe":"image",url:c.deepAccess(t,"0.body.ads.pixels")||c.deepAccess(t,"0.body.pixels")||function(e,t){var n=[];e&&(n.push("gdpr="+(e.gdprApplies?1:0)),n.push("gdpr_consent="+encodeURIComponent(e.consentString||"")));t&&n.push("us_privacy="+encodeURIComponent(t));return"".concat("https://u.openx.net/w/1.0/pd").concat(0<n.length?"?"+n.join("&"):"")}(n,r)}]},transformBidParams:function(e){return c.convertTypes({unit:"string",customFloor:"number"},e)}};function g(e,t){var n,r,i,a,o=c.inIframe();if(n={ju:d.getConfig("pageUrl")||t.refererInfo.referer,ch:document.charSet||document.characterSet,res:"".concat(screen.width,"x").concat(screen.height,"x").concat(screen.colorDepth),ifr:o,tz:(new Date).getTimezoneOffset(),tws:function(e){var t,n,r,i=window,a=document,o=a.documentElement;if(e){try{i=window.top,a=window.top.document}catch(e){return}o=a.documentElement,r=a.body,t=i.innerWidth||o.clientWidth||r.clientWidth,n=i.innerHeight||o.clientHeight||r.clientHeight}else o=a.documentElement,t=i.innerWidth||o.clientWidth,n=i.innerHeight||o.clientHeight;return"".concat(t,"x").concat(n)}(o),be:1,bc:e[0].params.bc||"".concat(l,"_").concat(p),dddid:c._map(e,function(e){return e.transactionId}).join(","),nocache:(new Date).getTime()},e[0].params.platform&&(n.ph=e[0].params.platform),t.gdprConsent){var s=t.gdprConsent;void 0!==s.consentString&&(n.gdpr_consent=s.consentString),void 0!==s.gdprApplies&&(n.gdpr=s.gdprApplies?1:0),"iab"===d.getConfig("consentManagement.cmpApi")&&(n.x_gdpr_f=1)}return t&&t.uspConsent&&(n.us_privacy=t.uspConsent),c.deepAccess(e[0],"crumbs.pubcid")&&c.deepSetValue(e[0],"userId.pubcid",c.deepAccess(e[0],"crumbs.pubcid")),r=n,i=e[0].userId,c._each(i,function(e,t){f.hasOwnProperty(t)&&(r[f[t]]=e)}),n=r,e[0].schain&&(n.schain=(a=e[0].schain,"".concat(a.ver,",").concat(a.complete,"!").concat(function(e){var n=["asi","sid","hp","rid","name","domain"];return e.map(function(t){return n.map(function(e){return t[e]||""}).join(",")}).join("!")}(a.nodes)))),n}t.exports=e("../shim.js").wrap({spec:a,unitIDKey:"unit"})},{"../shim.js":24}],8:[function(e,t,n){"use strict";function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=e("../shim.js").polyfills,p=r.utils,f=(r.registerBidder,r.config),i=r.BANNER,g=r.VIDEO,a="https://fastlane.rubiconproject.com/a/api/fastlane.json",d={FASTLANE:{id:"dt.id",keyv:"dt.keyv",pref:"dt.pref"},PREBID_SERVER:{id:"id",keyv:"keyv"}},m={1:"468x60",2:"728x90",5:"120x90",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",94:"970x310",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",232:"580x400",234:"6x6",251:"2x2",257:"400x600",264:"970x1000",265:"1920x1080",278:"320x500",288:"640x380"};p._each(m,function(e,t){return m[e]=t});var h={code:"rubicon",supportedMediaTypes:[i,g],isBidRequestValid:function(e){if("object"!==l(e.params))return!1;for(var t=0,n=["accountId","siteId","zoneId"];t<n.length;t++)if(e.params[n[t]]=parseInt(e.params[n[t]]),isNaN(e.params[n[t]]))return p.logError("Rubicon: wrong format of accountId or siteId or zoneId."),!1;var r,i,a,o,s,d=_(e,!0);return!!d&&("video"!==d||(r=e,i=!0,a=Object.prototype.toString.call([]),o=Object.prototype.toString.call(0),s={mimes:a,protocols:a,maxduration:o,linearity:o,api:a},Object.keys(s).forEach(function(e){Object.prototype.toString.call(p.deepAccess(r,"mediaTypes.video."+e))!==s[e]&&(i=!1,p.logError("Rubicon: mediaTypes.video."+e+" is required and must be of type: "+s[e]))}),i))},buildRequests:function(e,d){var t=[],n=e.filter(function(e){return"video"===_(e)}).map(function(e){e.startTime=(new Date).getTime();var t,n={id:e.transactionId,test:f.getConfig("debug")?1:0,cur:["USD"],source:{tid:e.transactionId},tmax:f.getConfig("TTL")||1e3,imp:[{exp:300,id:e.adUnitCode,secure:1,ext:c({},e.bidder,e.params),video:p.deepAccess(e,"mediaTypes.video")||{}}],ext:{prebid:{cache:{vastxml:{returnCreative:!1}},targeting:{includewinners:!0,includebidderkeys:!1,pricegranularity:{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:(t=f).getConfig("customPriceBucket")&&t.getConfig("customPriceBucket").buckets}[t.getConfig("priceGranularity")]}}}}};"rubicon"!==e.bidder&&(n.ext.prebid.aliases=c({},e.bidder,"rubicon"));var r,i,a=parseFloat(p.deepAccess(e,"params.floor"));isNaN(a)||(n.imp[0].bidfloor=a),n.imp[0].ext[e.bidder].video.size_id=(r=e,i=parseInt(p.deepAccess(r,"params.video.size_id")),isNaN(i)?"outstream"===p.deepAccess(r,"mediaTypes.".concat(g,".context"))?203:201:i),function(t,n,e){if(!t)return;"object"===l(f.getConfig("app"))?t.app=f.getConfig("app"):t.site={page:b(n,e)};"object"===l(f.getConfig("device"))&&(t.device=f.getConfig("device"));n.params.video.language&&["site","device"].forEach(function(e){t[e]&&(t[e].content=p.assign({language:n.params.video.language},t[e].content))})}(n,e,d),function(e,t){"object"===l(e.imp[0].video)&&void 0===e.imp[0].video.skip&&(e.imp[0].video.skip=t.params.video.skip);"object"===l(e.imp[0].video)&&void 0===e.imp[0].video.skipafter&&(e.imp[0].video.skipafter=t.params.video.skipdelay);"object"===l(e.imp[0].video)&&void 0===e.imp[0].video.pos&&("atf"===t.params.position?e.imp[0].video.pos=1:"btf"===t.params.position&&(e.imp[0].video.pos=3));var n=y(t,"video");e.imp[0].video.w=n[0],e.imp[0].video.h=n[1]}(n,e);var o,s=v(e,"PREBID_SERVER");s&&p.deepSetValue(n,"user.ext.digitrust",s),d.gdprConsent&&("boolean"==typeof d.gdprConsent.gdprApplies&&(o=d.gdprConsent.gdprApplies?1:0),p.deepSetValue(n,"regs.ext.gdpr",o),p.deepSetValue(n,"user.ext.consent",d.gdprConsent.consentString));return d.uspConsent&&p.deepSetValue(n,"regs.ext.us_privacy",d.uspConsent),e.userId&&"object"===l(e.userId)&&(e.userId.tdid||e.userId.pubcid||e.userId.lipb)&&(p.deepSetValue(n,"user.ext.eids",[]),e.userId.tdid&&n.user.ext.eids.push({source:"adserver.org",uids:[{id:e.userId.tdid,ext:{rtiPartner:"TDID"}}]}),e.userId.pubcid&&n.user.ext.eids.push({source:"pubcommon",uids:[{id:e.userId.pubcid}]}),e.userId.lipb&&e.userId.lipb.lipbid&&(n.user.ext.eids.push({source:"liveintent.com",uids:[{id:e.userId.lipb.lipbid}]}),n.user.ext.tpid={source:"liveintent.com",uid:e.userId.lipb.lipbid},Array.isArray(e.userId.lipb.segments)&&e.userId.lipb.segments.length&&p.deepSetValue(n,"rp.target.LIseg",e.userId.lipb.segments))),!0===f.getConfig("coppa")&&p.deepSetValue(n,"regs.coppa",1),e.schain&&x(e.schain)&&p.deepSetValue(n,"source.ext.schain",e.schain),{method:"POST",url:"https://prebid-server.rubiconproject.com/openrtb2/auction",data:n,bidRequest:e}});if(!0!==f.getConfig("rubicon.singleRequest"))t=n.concat(e.filter(function(e){return"banner"===_(e)}).map(function(e){var r=h.createSlotParams(e,d);return{method:"GET",url:a,data:h.getOrderedParams(r).reduce(function(e,t){var n=r[t];return p.isStr(n)&&""!==n||p.isNumber(n)?"".concat(e).concat(s(t,n),"&"):e},"")+"slots=1&rand=".concat(Math.random()),bidRequest:e}}));else{var i=e.filter(function(e){return"banner"===_(e)}).reduce(function(e,t){return(e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e},{});t=n.concat(Object.keys(i).reduce(function(t,e){var n,r;return(n=i[e],r=10,n.map(function(e,t){return t%r==0?n.slice(t,t+r):null}).filter(function(e){return e})).forEach(function(e){var r=h.combineSlotUrlParams(e.map(function(e){return h.createSlotParams(e,d)}));t.push({method:"GET",url:a,data:h.getOrderedParams(r).reduce(function(e,t){var n=r[t];return p.isStr(n)&&""!==n||p.isNumber(n)?"".concat(e).concat(s(t,n),"&"):e},"")+"slots=".concat(e.length,"&rand=").concat(Math.random()),bidRequest:e})}),t},[]))}return t},getOrderedParams:function(e){var t=/^tg_v/,n=/^tg_i/,r=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","rp_schain","tpid_tdid","tpid_liveintent.com","tg_v.LIseg","dt.id","dt.keyv","dt.pref","rf","p_geo.latitude","p_geo.longitude","kw"].concat(Object.keys(e).filter(function(e){return t.test(e)})).concat(Object.keys(e).filter(function(e){return n.test(e)})).concat(["tk_flint","x_source.tid","x_source.pchain","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return r.concat(Object.keys(e).filter(function(e){return-1===r.indexOf(e)}))},combineSlotUrlParams:function(i){if(1===i.length)return i[0];var r=i.reduce(function(t,n,r){return Object.keys(n).forEach(function(e){t.hasOwnProperty(e)||(t[e]=new Array(i.length)),t[e].splice(r,1,n[e])}),t},{}),a=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(r).forEach(function(e){var t=r[e].join(";"),n=t.match(a);r[e]=n?n[1]:t}),r},createSlotParams:function(e,t){e.startTime=(new Date).getTime();var n=e.params,r=y(e,"banner"),i=u(n.latLong||[],2),a=i[0],o=i[1],s=f.getConfig("rubicon.int_type"),d={account_id:n.accountId,site_id:n.siteId,zone_id:n.zoneId,size_id:r[0],alt_size_ids:r.slice(1).join(",")||void 0,rp_floor:.01<(n.floor=parseFloat(n.floor))?n.floor:.01,rp_secure:"1",tk_flint:"".concat(s||"pbjs_lite","_v$prebid.version$"),"x_source.tid":e.transactionId,"x_source.pchain":n.pchain,p_screen_res:[window.screen.width,window.screen.height].join("x"),kw:Array.isArray(n.keywords)?n.keywords.join(","):"",tk_user_key:n.userId,"p_geo.latitude":isNaN(parseFloat(a))?void 0:parseFloat(a).toFixed(4),"p_geo.longitude":isNaN(parseFloat(o))?void 0:parseFloat(o).toFixed(4),"tg_fl.eid":e.code,rf:b(e,t)};d.p_pos="atf"===n.position||"btf"===n.position?n.position:"",e.userId&&(e.userId.tdid&&(d.tpid_tdid=e.userId.tdid),e.userId.lipb&&e.userId.lipb.lipbid&&(d["tpid_liveintent.com"]=e.userId.lipb.lipbid,Array.isArray(e.userId.lipb.segments)&&e.userId.lipb.segments.length&&(d["tg_v.LIseg"]=e.userId.lipb.segments.join(",")))),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(d.gdpr=Number(t.gdprConsent.gdprApplies)),d.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(d.us_privacy=encodeURIComponent(t.uspConsent)),null!==n.visitor&&"object"===l(n.visitor)&&Object.keys(n.visitor).forEach(function(e){null!=n.visitor[e]&&(d["tg_v.".concat(e)]=n.visitor[e].toString())}),null!==n.inventory&&"object"===l(n.inventory)&&Object.keys(n.inventory).forEach(function(e){null!=n.inventory[e]&&(d["tg_i.".concat(e)]=n.inventory[e].toString())});var c=v(e,"FASTLANE");return p.assign(d,c),!0===f.getConfig("coppa")&&(d.coppa=1),e.schain&&x(e.schain)&&(d.rp_schain=h.serializeSupplyChain(e.schain)),d},serializeSupplyChain:function(e){if(!x(e))return"";var t=e.ver,n=e.complete,r=e.nodes;return"".concat(t,",").concat(n,"!").concat(h.serializeSupplyChainNodes(r))},serializeSupplyChainNodes:function(e){var n=["asi","sid","hp","rid","name","domain"];return e.map(function(t){return n.map(function(e){return encodeURIComponent(t[e]||"")}).join(",")}).join("!")},interpretResponse:function(d,e){var c=e.bidRequest;if(!(d=d.body)||"object"!==l(d))return[];if(d.seatbid){var t=p.deepAccess(d,"ext.errors.rubicon");Array.isArray(t)&&0<t.length&&p.logWarn("Rubicon: Error in video response");var a=[];return d.seatbid.forEach(function(i){(i.bid||[]).forEach(function(e){var t={requestId:c.bidId,currency:d.cur||"USD",creativeId:e.crid,cpm:e.price||0,bidderCode:i.seat,ttl:300,netRevenue:!1!==f.getConfig("rubicon.netRevenue"),width:e.w||p.deepAccess(c,"mediaTypes.video.w")||p.deepAccess(c,"params.video.playerWidth"),height:e.h||p.deepAccess(c,"mediaTypes.video.h")||p.deepAccess(c,"params.video.playerHeight")};e.id&&(t.seatBidId=e.id),e.dealid&&(t.dealId=e.dealid);var n=p.deepAccess(d,"ext.responsetimemillis.rubicon");if(c&&n&&(c.serverResponseTimeMs=n),p.deepAccess(e,"ext.prebid.type")===g){t.mediaType=g;var r=p.deepAccess(e,"ext.prebid.targeting");r&&"object"===l(r)&&(t.adserverTargeting=r),e.ext.prebid.cache&&"object"===l(e.ext.prebid.cache.vastXml)&&e.ext.prebid.cache.vastXml.cacheId&&e.ext.prebid.cache.vastXml.url?(t.videoCacheKey=e.ext.prebid.cache.vastXml.cacheId,t.vastUrl=e.ext.prebid.cache.vastXml.url):r&&r.hb_uuid&&r.hb_cache_host&&r.hb_cache_path&&(t.videoCacheKey=r.hb_uuid,t.vastUrl="https://".concat(r.hb_cache_host).concat(r.hb_cache_path,"?uuid=").concat(r.hb_uuid)),e.adm&&(t.vastXml=e.adm),e.nurl&&(t.vastUrl=e.nurl),!t.vastUrl&&e.nurl&&(t.vastUrl=e.nurl)}else p.logWarn("Rubicon: video response received non-video media type");a.push(t)})}),a}var n=d.ads;return"object"!==l(c)||Array.isArray(c)||"video"!==_(c)||"object"!==l(n)||(n=n[c.adUnitCode]),!Array.isArray(n)||n.length<1?[]:n.reduce(function(e,t,n){if("ok"!==t.status)return e;var r,i,a=Array.isArray(c)?c[n]:c;if(a&&"object"===l(a)){var o={requestId:a.bidId,currency:"USD",creativeId:t.creative_id||"".concat(t.network||"","-").concat(t.advertiser||""),cpm:t.cpm||0,dealId:t.deal,ttl:300,netRevenue:!1!==f.getConfig("rubicon.netRevenue"),rubicon:{advertiserId:t.advertiser,networkId:t.network},meta:{advertiserId:t.advertiser,networkId:t.network}};if(t.creative_type&&(o.mediaType=t.creative_type),t.creative_type===g)o.width=a.params.video.playerWidth,o.height=a.params.video.playerHeight,o.vastUrl=t.creative_depot_url,o.impression_id=t.impression_id,o.videoCacheKey=t.impression_id;else{o.ad=(r=t.script,i=t.impression_id,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='".concat(i,"'>\n<script type='text/javascript'>").concat(r,"<\/script>\n</div>\n</body>\n</html>"));var s=u(m[t.size_id].split("x").map(function(e){return Number(e)}),2);o.width=s[0],o.height=s[1]}o.rubiconTargeting=(Array.isArray(t.targeting)?t.targeting:[]).reduce(function(e,t){return e[t.key]=t.values[0],e},{rpfl_elemid:a.adUnitCode}),e.push(o)}else p.logError("Rubicon: bidRequest undefined at index position:".concat(n),c,d);return e},[]).sort(function(e,t){return(t.cpm||0)-(e.cpm||0)})},getUserSyncs:function(e,t,n,r){if(!w&&e.iframeEnabled){var i="";return n&&"string"==typeof n.consentString&&("boolean"==typeof n.gdprApplies?i+="?gdpr=".concat(Number(n.gdprApplies),"&gdpr_consent=").concat(n.consentString):i+="?gdpr_consent=".concat(n.consentString)),r&&(i+="".concat(i?"&":"?","us_privacy=").concat(encodeURIComponent(r))),w=!0,{type:"iframe",url:"https://eus.rubiconproject.com/usync.html"+i}}},transformBidParams:function(e){return p.convertTypes({accountId:"number",siteId:"number",zoneId:"number"},e)}};function v(e,t){var n,r=0<arguments.length&&void 0!==e?e:{},i=1<arguments.length?t:void 0;if(!i||!d[i])return null;var a=d[i];var o=function(){var e=p.deepAccess(r,"userId.digitrustid.data");if(e)return e;var t=window.DigiTrust&&(f.getConfig("digiTrustId")||window.DigiTrust.getUser({member:"T9QSFKPDN9"}));return t&&t.success&&t.identity||null}();if(!o||o.privacy&&o.privacy.optout)return null;var s=(c(n={},a.id,o.id),c(n,a.keyv,o.keyv),n);return a.pref&&(s[a.pref]=0),s}function b(e,t){var n=f.getConfig("pageUrl");return n=e.params.referrer?e.params.referrer:n||t.refererInfo.referer,e.params.secure?n.replace(/^http:/i,"https:"):n}function y(e,t){var n=e.params;if("video"===t){var r=[];return n.video&&n.video.playerWidth&&n.video.playerHeight?r=[n.video.playerWidth,n.video.playerHeight]:Array.isArray(p.deepAccess(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?r=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&0<e.sizes.length&&Array.isArray(e.sizes[0])&&1<e.sizes[0].length&&(r=e.sizes[0]),r}var i,a=[];return Array.isArray(n.sizes)?a=n.sizes:void 0!==p.deepAccess(e,"mediaTypes.banner.sizes")?a=o(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&0<e.sizes.length?a=o(e.sizes):p.logWarn("Rubicon: no sizes are setup or found"),i=[15,2,9],a.sort(function(e,t){var n=i.indexOf(e),r=i.indexOf(t);return-1<n||-1<r?-1===n?1:-1===r?-1:n-r:e-t})}function o(e){return p.parseSizesInput(e).reduce(function(e,t){var n=parseInt(m[t],10);return n&&e.push(n),e},[])}function _(e,t){var n,r=1<arguments.length&&void 0!==t&&t;return n=e,"object"===l(p.deepAccess(n,"params.video"))&&void 0!==p.deepAccess(n,"mediaTypes.".concat(g))?-1===["outstream","instream"].indexOf(p.deepAccess(e,"mediaTypes.".concat(g,".context")))?void(r&&p.logError("Rubicon: mediaTypes.video.context must be outstream or instream")):y(e,"video").length<2?void(r&&p.logError("Rubicon: could not determine the playerSize of the video")):(r&&p.logMessage("Rubicon: making video request for adUnit",e.adUnitCode),"video"):0===y(e,"banner").length?void(r&&p.logError("Rubicon: could not determine the sizes for banner request")):(r&&p.logMessage("Rubicon: making banner request for adUnit",e.adUnitCode),"banner")}function x(e){var t=!1,n=["asi","sid","hp"];return e.nodes&&((t=e.nodes.reduce(function(e,t){return e?n.every(function(e){return t[e]}):e},!0))||p.logError("Rubicon: required schain params missing")),t}function s(e,t){return"rp_schain"===e?"rp_schain=".concat(t):"".concat(e,"=").concat(encodeURIComponent(t))}var w=!1;t.exports=e("../shim.js").wrap({spec:h,unitIDKey:"zoneId"})},{"../shim.js":24}],9:[function(e,t,n){"use strict";var s="https://bids.adspsp.com/openrtb2/auction",d="https://bids.adspsp.com/cookie_sync",c=e("../ajax.js"),u=e("../utils.js"),r=e("../config.js"),l={159:function(e){return{appnexus:{placementId:parseInt(e.bidder_unit_id,10),reserve:e.min_cpm}}},160:function(e){r.libSettings();return{rubicon:{accountId:parseInt(e.account,10),siteId:parseInt(e.site,10),zoneId:parseInt(e.bidder_unit_id,10),inventory:e.inventory||{},visitor:e.visitor||{}}}}};function p(e){var t=e.split("x");return{w:parseInt(t[0]),h:parseInt(t[1])}}function f(e,t,n){return e!==n[t-1]}function g(e,t){return{method:"POST",url:e,withCredentials:!0,parseResponseJson:!0,data:JSON.stringify(t),contentType:"text/plain"}}var m=[];t.exports=function(e,t,n,i){m.push(e),this.execute=function(r){if(!r.executedS2S){r.executedS2S=!0;var a={bidders:[],gdpr:0|i.gdprApplies,gdpr_consent:i.consentString,limit:2},o={id:u.genUUID(),test:u.qs("adb_s2s_test")?1:0,imp:[],Site:{Publisher:{ID:""}},Source:{TID:r.id}};u.each(m,function(e){r.eachBidRequest(e,function(e,t){var n,r,i=(r=l[(n=t).bidder_id])?r(n):(u.err("S2S no template",n.bidder_id),!1);i&&(o.imp.push({id:t.id,ext:i,banner:{format:t.all_sizes.map(p)}}),a.bidders=a.bidders.concat(Object.keys(i)))})}),u.log("S2S request",o);var e=g(s,o);c(e,u.wrapAsync(function(e,t){var n=t&&t.seatbid||[];u.each(n,function(e){u.each(e.bid,function(e){var t=r.getBidRequest(e.impid);e.price?t.unit.addBid(t,{creative:e.adm,cpm:e.price,width:e.w,height:e.h,extras:{creativeId:e.crid}}):t.unit.addEmptyBid(t)})}),u.each(m,function(e){r.markBidderEmpty(e)}),e&&u.err("S2S auction error",e)})),a.bidders=a.bidders.sort().filter(f);var t=g(d,a);c(t,u.wrapAsync(function(e,t){if(e)return u.err("S2S sync error",e);t&&t.bidder_status&&t.bidder_status.length&&u.each(t.bidder_status,function(e){u.log("S2S register sync",e.bidder,e.usersync.url),u.uspf(e.bidder,e.usersync.url)})}))}}}},{"../ajax.js":12,"../config.js":15,"../utils.js":26}],10:[function(e,t,n){"use strict";function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var r=e("../shim.js").polyfills,i=r.BANNER,o=(r.registerBidder,r.utils),s=(r.$$REPO_AND_VERSION$$,!0),d=null,c={code:"triplelift",supportedMediaTypes:[i],isBidRequestValid:function(e){return void 0!==e.params.inventoryCode},buildRequests:function(e,t){var n="https://tlx.3lift.com/header/auction?",r=function(e){var t={},n=e[0].schain;t.imp=e.map(function(e,t){return{id:t,tagid:e.params.inventoryCode,floor:e.params.floor,banner:{format:e.sizes.filter(l).map(function(e){return{w:e[0],h:e[1]}})}}});var r=[].concat(a(function(e){return u(e,"tdid","adserver.org","TDID")}(e)),a(function(e){return u(e,"idl_env","liveramp.com","idl")}(e)));0<r.length&&(t.user={ext:{eids:r}});n&&(t.ext={schain:n});return t}(e);if(n=o.tryAppendQueryString(n,"lib","prebid"),n=o.tryAppendQueryString(n,"v",window.AdBridg.globals.version),t&&t.refererInfo){var i=t.refererInfo.referer;n=o.tryAppendQueryString(n,"referrer",i)}return t&&t.timeout&&(n=o.tryAppendQueryString(n,"tmax",t.timeout)),t&&t.gdprConsent&&(void 0!==t.gdprConsent.gdprApplies&&(s=t.gdprConsent.gdprApplies,n=o.tryAppendQueryString(n,"gdpr",s.toString())),void 0!==t.gdprConsent.consentString&&(d=t.gdprConsent.consentString,n=o.tryAppendQueryString(n,"cmp_cs",d))),t&&t.uspConsent&&(n=o.tryAppendQueryString(n,"us_privacy",t.uspConsent)),n.lastIndexOf("&")===n.length-1&&(n=n.substring(0,n.length-1)),o.logMessage("tlCall request built: "+n),{method:"POST",url:n,data:r,bidderRequest:t}},interpretResponse:function(e,t){var n=t.bidderRequest;return(e.body.bids||[]).map(function(e){return function(e,t){var n={},r=t.width||1,i=t.height||1,a=t.deal_id||"",o=t.crid||"";0!=t.cpm&&t.ad&&(n={requestId:e.bids[t.imp_id].bidId,cpm:t.cpm,width:r,height:i,netRevenue:!0,ad:t.ad,creativeId:o,dealId:a,currency:"USD",ttl:33});return n}(n,e)})},getUserSyncs:function(e,t,n,r){var i=function(e){if(!e)return;if(e.iframeEnabled)return"iframe";if(e.pixelEnabled)return"image"}(e);if(i){var a="https://eb2.3lift.com/sync?";return"image"===i&&(a=o.tryAppendQueryString(a,"px",1),a=o.tryAppendQueryString(a,"src","prebid")),null!==d&&(a=o.tryAppendQueryString(a,"gdpr",s),a=o.tryAppendQueryString(a,"cmp_cs",d)),r&&(a=o.tryAppendQueryString(a,"us_privacy",r)),[{type:i,url:a}]}}};function u(e,t,n,r){return e.map((o=t,function(e){return e&&e.userId&&e.userId[o]})).filter(function(e){return!!e}).map((i=n,a=r,function(e){return{source:i,uids:[{id:e,ext:{rtiPartner:a}}]}}));var i,a,o}function l(e){return 2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}t.exports=e("../shim.js").wrap({spec:c,unitIDKey:"inventoryCode"})},{"../shim.js":24}],11:[function(e,t,n){t.exports=e(10)},{"../shim.js":24}],12:[function(e,t,n){var a=e("./utils.js");t.exports=a.wrapAsync(function(n,r){var i,e=!1,t=n.method||(n.data?"POST":"GET");window.XMLHttpRequest?(i=new window.XMLHttpRequest).onreadystatechange=a.wrapAsync(function(){if(4===i.readyState){var e=i.status;if(200<=e&&e<300||304===e)if(n.parseResponseJson)try{var t=JSON.parse(i.responseText||"null");r(null,t,i)}catch(e){r({err:e,type:"parse"},"",i)}else r(null,i.responseText,i);else r(0===e?{err:"",type:"timeout"}:{err:i.statusText,type:"status="+e},"",i)}}):(e=!0,(i=new window.XDomainRequest).onload=n.parseResponseJson?a.wrapAsync(function(){try{var e=JSON.parse(i.responseText||"null");r(null,e,i)}catch(e){r({err:e,type:"parse"},"",i)}}):a.wrapAsync(function(){r(null,i.responseText,i)}),i.onerror=a.wrapAsync(function(e){r({err:e,type:"error"},"",i)}),i.ontimeout=a.wrapAsync(function(e){r({err:e,type:"timeout"},"",i)}),i.onprogress=function(){}),i.open(t,n.url),0!==n.max_ms&&(i.timeout=n.max_ms||3e3,a.logl("at","Ajax >",n.url,i.timeout)),e||(n.withCredentials&&(i.withCredentials=!0),a.each(n.headers,function(e,t){i.setRequestHeader(t,e)}),n.preflight&&i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Content-Type",n.contentType||"text/plain")),i.send("POST"===t&&n.data)})},{"./utils.js":26}],13:[function(e,t,s){function n(){for(var e="",t=0;t<10;++t)e+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return e}var d=e("./utils.js"),c=e("./config.js"),r=n(),i="aX0";s.id=[2,i,r].join(","),c.afterConsent(function(e){e&&e.gdprApplies||(i=(i=String((document.cookie.match(/_adb=([^;]+)/)||[""]).pop()))||"a2"+(new Date).getTime().toString(36)+n(),d.cw("_adb",i,365),s.id=[2,i,r].join(","))});function a(e,t,n,r){u[e]||(u[e]=[]),u[e].push(r),o[e]=n,l[e]||(l[e]=setTimeout(function(){p(e)},t))}var u={},o={},l={},p=function(e){if(clearTimeout(l[e]),l[e]=!1,u[e]&&u[e].length){var t=o[e],n=3===e?"1//"+u[e].length+t:"";n+=u[e].join(t),u[e]=[],h(e,1,n)}};s.flushNow=function(){for(var e in u)p(e)};function f(e,t){return v(e)+"`"+v(t)}function g(e){var n=[];return d.each(e,function(e){var t=e.split("x");2==t.length&&n.push(f(t[0],t[1]))}),n.join(".")}function m(e){return String(e).replace(/[^\d\w-]/,"")}var h=function(e,t,n){var r=s.id,i=function(){if(!u[3]||!u[3].length)return"";var e=u[3].join("&e=");return u[3]=[],e}(),a=d.vp(),o="//adspsp.com/pt/"+c.getId()+"/"+e+"/"+t+"/?a="+r+"&b="+n+"&e="+i+"&c="+encodeURIComponent(d.url().href)+"&d="+encodeURIComponent(d.url().referrer)+"&f="+d.pgts().join(".")+"&g="+d.perfts()+"&u=dedfb28:k5fvae8k&v="+v(a.w)+"."+v(a.h)+"."+v(a.y);for(o=c.deca(o),d.each(b,function(e,t){d.isarr(e)||(e=[e]),d.each(e,function(e){o+="&"+t+"="+encodeURIComponent(e)})});y.length;)delete b[y.pop()];d.each(_,function(e,t){o+="&"+t+"="+encodeURIComponent(e)}),_={},d.pixel(o)},v=function(e){return(parseInt(e,10)||0).toString(36)},b={};s.meta=d.thread(function(e,t){b[e]=t});var y=[];s.metaqx=d.thread(function(e,t){-1==y.indexOf(e)&&y.push(e),b[e]?d.isarr(b[e])||(b[e]=[b[e]]):b[e]=[],b[e].push(t)});var _={};s.ctr=d.thread(function(e,t){void 0===t&&(t=1),t&&(_[e]=(_[e]||0)+t)}),s.auctionConfigured=d.thread(function(e){var n=[];e.eachUnit(function(e){var r=[],t=g(e.all_sizes);e.eachBidReqConf(function(e){var t=e.bidder_id+"@"+m(e.bidder_unit_id),n=g(e.all_sizes);r.push(t+"^"+n)}),n.push(e.id+"^"+t+":"+r.join(","))});var t=e.instancectr+"//"+n.length+"-"+n.join("_");e.eachUnit(function(e){t+="&bu="+e.unique_id}),h(1,1,t)});function x(e){var t=[Math.round(e.ms)];return(e.cpm||e._bid_cpm)&&(t.push(e.cpm),t.push(e.width),t.push(e.height),e._bid_cpm!=e.cpm&&(t.push(e._bid_cpm),t.push(e._min_cpm),t.push(e.blocked?e.blocked:0))),t.join(",")}s.auctionCompleted=d.thread(function(i){var a=[],r=[];i.eachBidRequest(function(n,e){var t=[i.instancectr,n.id,e.bidder_id,m(e.bidder_unit_id)].join(","),r=[];d.each(e.responses,function(e){var t=n.getWinner()===e?1:0;r.push(t+","+x(e))}),a.push(t+":"+r.join(":"))}),i.eachUnit(function(e){var t=e.getWinner();if(t){var n=JSON.stringify(t.extras);n="{}"==n?"":encodeURIComponent(n),r.push([i.instancectr,e.id,t.config.bidder_id].join(",")+":"+e.unique_id+":"+n)}});var e=a.join("&b=");r.length&&(e+="&bw="+r.join("&bw=")),h(11,1,e)}),s.bidRendered=d.thread(function(e){var t=[e.config.unit.auction.instancectr,e.config.unit.id];t.push(e.config.bidder_id),t.push(e.config.bidder_unit_id),t.push(e.cpm),t.push(e.width),t.push(e.height),t.push(e.config.unit.unique_id);var n=JSON.stringify(e.extras);"{}"!=n&&t.push(encodeURIComponent(n));var r="1:"+t.join(",");c.libSettings().record_bidids&&(r+="&b=4:"+[e.config.unit.unique_id,e.config.unit.id,e.id].join(","));a(12,100,"&b=",r)}),s.enhRendered=d.thread(function(e,t){a(12,100,"&b=","3:"+[e,t].join(","))}),s.gptRendered=d.thread(function(e,t,n){a(12,100,"&b=","2:"+[e.instancectr,t.id,v(n.advertiserId),v(n.campaignId),v(n.creativeId),n.isEmpty||"",v(n.lineItemId),n.size?f(n.size[0],n.size[1]):"",v(n.sourceAgnosticCreativeId),v(n.sourceAgnosticLineItemId),t.unique_id].join(","))}),s.gptViewed=d.thread(function(e,t,n){a(15,100,"&b=","1:"+[e.instancectr,t.id,t.unique_id].join(","))}),s.gprog=d.thread(function(e){a(16,100,"&b=","1:"+JSON.stringify(e))}),s.lateBid=d.thread(function(e){var t=[e.config.unit.auction.instancectr,e.config.unit.id,e.config.bidder_id,e.config.bidder_unit_id].join(",");a(13,500,"&b=",t+":"+x(e))}),d.onerr(function(){try{var t="";d.each(arguments,function(e){null!=e&&("object"==typeof e?e=e.stack?(e.message||"")+" "+e.stack:JSON.stringify(e):"string"!=typeof e&&"number"!=typeof e&&(e=e.toString?e.toString():String(e)),t+=" "+e)}),t=t.substr(0,300)+(300<t.length?"...":""),t="500.1:"+d.perfts()+":"+t,a(3,1e3,"&e=",t)}catch(e){d.isdebug()&&console.error("AdBridg error report failed: ",e)}}),s.rec=d.thread(function(e){a(17,500,"&b=",e)}),d.onrec(s.rec)},{"./config.js":15,"./utils.js":26}],14:[function(e,t,n){var f=e("./utils"),g=(e("./unit"),e("./analytics")),m=e("./modules"),h=e("./config"),r=0;t.exports=function(){this.instancectr=++r,this.id=f.genID("A"),this.ts=0,this.jsts=0,this.max_ms,this.ajax_ms=h.libSettings().ajax_ms,"function"==typeof this.ajax_ms&&(this.ajax_ms=this.ajax_ms());var a=this,o={},s=[],d=[],c=[],u=!1,l=[],p=!1;this.addUnit=function(e){return d.push(e),c.push(e.alias),e.auction=a,e.eachBidder(function(e,t){o[e]||(o[e]=t,.5<Math.random()?s.push(e):s.unshift(e))}),a.max_ms=a.max_ms?Math.min(a.max_ms,e.max_ms):e.max_ms,(!a.ajax_ms||a.ajax_ms<a.max_ms)&&(a.ajax_ms=a.max_ms+200),a},this.hasUnit=function(){return 0<d.length},this.eachUnit=function(e){f.each(d,e)},this.findUnit=function(e){for(var t=0;t<d.length;++t){if(e(d[t]))return d[t]}return!1},this.eachBidRequest=function(e,n){"function"==typeof e&&(n=e,e=!1),this.eachUnit(function(t){t.eachBidReqConf(e,function(e){n(t,e)})})},this.getUnitByBidReqId=function(t){var n=!1;return a.eachUnit(function(e){e.getBidReqConf(t)&&(n=e)}),n},this.getBidRequest=function(t){var n=!1;return a.eachUnit(function(e){n=n||e.getBidReqConf(t)}),n},this.markBidEmpty=function(e){var t=a.getUnitByBidReqId(e);t?t.addEmptyBid(e):f.err("Cannot mark bid empty: unknown id",e)},this.markBidderEmpty=function(t){a.eachUnit(function(e){e.markEmpty(t)})},this.isDone=function(){return u},this.lock=function(e){-1==l.indexOf(e)&&(f.log("Auction ",a.id," locked: ",e),l.push(e))},this.unlock=f.wrapAsync(function(e){var t=l.indexOf(e);-1!=t?(l.splice(t,1),f.log("Auction ",a.id," unlocked: ",e,l),!l.length&&p&&p()):f.log("Auction ",a.id," lock not found: ",e)}),this.execute=function(e){a.ts=f.dts(),a.jsts=(new Date).getTime();var t=h.libSettings().fbo;"function"==typeof t&&(s=t(o)),f.log("Auction",a.id,"starting with",d.length,"units:",c,"/ bidders:",s,"/ timeout:",a.max_ms),g.auctionConfigured(a),m.trigger("auction.start",a);var n=f.wrapAsync(function(){u||(u=!0,a.eachUnit(function(e){e.halt()}),g.auctionCompleted(a),m.trigger("auction.complete",a),e(a))}),r=f.wrapAsync(function(){if(l.length)return f.log("Auction ",a.id,"waiting on locks",l),void(p=n);n()}),i=0;a.eachUnit(function(e){e.onReady(f.wrapAsync(function(){u||++i>=d.length&&(f.log("Auction ",a.id," received bids for ",i," / ",d.length," units. Duration: ",f.dts()-a.ts,"ms"),r())}))}),f.each(s,function(e){var t=o[e];f.thread(function(){t.execute(a)})()}),setTimeout(function(){u||(f.log("Auction ",a.id," timing out with ",i," / ",d.length," units completed. Duration: ",f.dts()-a.ts,"ms"),r())},a.max_ms)}}},{"./analytics":13,"./config":15,"./modules":17,"./unit":25,"./utils":26}],15:[function(t,e,o){function d(e,t,n){var r=t.mapping_rules;if(r){var i=e.get("gpt_slot"),a=i.getAdUnitPath(),o=e.get("gpt_sizes"),s=e.get("dom_id");for(var d in r){if(!r.hasOwnProperty(d))return;var c=r[d],u=Math.max(document.documentElement.clientWidth,window.innerWidth||0);if("vp.max_width"==d&&c<u)return;if("vp.min_width"==d&&u<c)return;if("lib"==d.substr(0,3)){var l=n[d.substr(4)];if(("function"==typeof l&&l(i,a,o,s))!=c)return}if("gpt.adunit"==d&&c!=a)return;if("gpt.adunit_regex"==d&&!new RegExp(c,"i").test(a))return;if("gpt.domid"==d&&c!=s)return;if("gpt.domid_regex"==d&&!new RegExp(c,"i").test(s))return;if("gpt.has_size"==d&&!o.match(c))return;if("gpt.no_size"==d&&o.match(c))return}return p.log("Unit mapped: ",s,"->",t.alias),1}}function c(e,t){return{id:t[0],alias:t[1],size:t[2],other_sizes:t[3]||[],min_cpm:t[4],max_ms:t[5],settings:t[6]||{},rule_order:t[7],mapping_rules:t[8],bid_req_confs:t[9]}}var p=t("./utils"),i=t("./ajax"),u={c:2418030,s:{track_imps:!0,bid_strategy:".05:.05-7.5,.5:8-20,1:21-40,2:42-50",usp:function(){return{image:!0,iframe:!1,delay:3e3}},initfn:function(){var e=document.createElement("script");e.async=!0,e.src="//js-sec.indexww.com/ht/p/180447-192872210293780.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)},cmp:function(e,t){var n=p.wrapAsync(function(){return e.pub.gdprBlockBids?t("pubblock"):t("iab")});e.pub?n():(p.log("CMP check waiting for AdPlumber"),AdBridg.cmd.unshift({events:{"pub.config":n}}))},gptnpa:!0,cmp_check_interval:100,cmp_check_max:20,gpt_clear_kvps:["hb_bidder","hb_pb","hb_adid"],gpt_kvp_overrides:{adb_bdr:"hb_bidder",adb_hbc:"hb_pb",adb_adid:"hb_adid"},gpt_keep_oop:1,allow_serve_from_refresh:!0,new_tl_test:function(e){return!p.qs("adb_tl_new_only")&&e},ajax_ms:1100,before_gpt:function(){p.qs("no_sandbox")||(p.log("Requiring GPT Sandbox SafeFrames"),googletag.pubads().setSafeFrameConfig({sandbox:!0}))},dynamic_configuration:function(e,t,n){var r=t.pub.cc;if(t.pub.sponsorship&&"US"===r)return AdBridg.global("HLSPReported")||(AdBridg.global("HLSPReported",1),p.err("HLSponsorshipPage"),p.log("Healthline page has been reserved for a sponsorship; all bidding is disabled.")),!1;-1<[16,17,18].indexOf(e.id)&&p.vp().w<=989&&(e.other_sizes="");var i=t.pub&&t.pub.k1;i.match(/cancer/)||i.match(/^(chemotherapy|gastroenteritis|heartattack|heartburn|heartfailure|heartprocedures|heartvalvedisorders|hivaids|ms|backpain|psoriasis|eczema)$/)||(e.max_ms=1500);var a=parseInt(p.qs("adb_timeout"),10)||0;return 0<a&&(AdBridg.global("timeoutOverrideMsg")||(p.log("HL override timeout via querystring: ",a),AdBridg.global("timeoutOverrideMsg",1)),e.max_ms=a),e},alter_adb_pixel:function(t){try{p.each(googletag.pubads().getSlots(),function(e){var t=e.getTargetingMap(),n=t.amznbid&&t.amznbid[0]||!1;n&&"1"!=n&&"2"!=n&&AdBridg.global("hl_amzsig",1)})}catch(e){}AdBridg.global("hl_amzsig")&&(t+="&hlaz=1");var n=window.Krux&&Krux.segments;if(window.Krux&&window.Krux.user&&(t+="&hlku=1"),n&&n.length){t+="&hlks="+n.length;p.each(["rtfoso4jo","rtdcvdi3p","rt0yso1r8","tbxttakzo","q0kikdez9","q0khyp7j0"],function(e){-1<n.indexOf(e)&&(t+="&hlks="+e)})}else t+="&hlks=0";var e=u.s.pub&&u.s.pub.abSegment;return e&&!e.match(/object/i)&&(t+="&hlab="+escape(e)),t},post_auc_ufilter:function(e,t){var n=e.getWinner();if(n&&n.cpm){var r=n.cpm,i=r<5?"":r<10?"b5":"b10";i&&e.setImpData("adx",i),18==n.config.bidder_id&&e.setImpData("tl","tl"+(n.config.bidder_unit_id.match("_HDX")?"2":"1"))}},nodbkeys:!0},u:{1:[1,"Healthline Desktop_300x250_1","300x250",["300x600"],.2,700,0,0,{"gpt.adunit_regex":"DMR1$"},[[2,"604642",{siteId:"127964",position:"atf"},0],[4,"540307314",0,0],[5,"11002902",0,0],[10,"193270",{size:"300x250"},0],[18,"healthline_desktop_rightrail_300x600_pos1_AB",0,function(e,t){return t.new_tl_test(e)}],[114,"4817317",{size:"300x250"},0],[116,"482160476",0,0],[159,"14857641",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR1_MREC",0,function(e,t){return t.new_tl_test(e)}]]],2:[2,"Healthline Desktop_300x250_2","300x250",["300x600"],.2,700,0,0,{"gpt.adunit_regex":"DMR2$"},[[2,"604644",{siteId:"127964"},0],[4,"540307315",0,0],[5,"11002903",0,0],[10,"193271",{size:"300x250"},0],[114,"4817332",{size:"300x250"},0],[116,"265177797",0,0],[159,"14857648",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR2_300x250",0,function(e,t){return t.new_tl_test(e)}]]],3:[3,"Healthline Desktop_300x250_3","300x250",["300x600"],.2,700,0,0,{"gpt.adunit_regex":"DMR3$"},[[2,"604646",{siteId:"127964"},0],[4,"540307316",0,0],[5,"11002904",0,0],[10,"193272",{size:"300x250"},0],[18,"healthline_desktop_rightrail_300x600_pos3_AB",0,function(e,t){return t.new_tl_test(e)}],[114,"4817334",{size:"300x250"},0],[116,"157131625",0,0],[159,"14857649",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR3_300x250",0,function(e,t){return t.new_tl_test(e)}]]],4:[4,"Healthline Desktop_300x250_4","300x250",["300x600"],.2,700,0,0,{"gpt.adunit_regex":"DMR4$"},[[2,"604648",{siteId:"127964"},0],[4,"540307317",0,0],[5,"11002905",0,0],[10,"193273",{size:"300x250"},0],[114,"4817333",{size:"300x250"},0],[116,"171862636",0,0],[159,"14857650",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR4_300x250",0,function(e,t){return t.new_tl_test(e)}]]],5:[5,"Healthline Desktop_300x250_5","300x250",["300x600"],.2,700,0,0,{"gpt.adunit_regex":"DMR5$"},[[2,"604650",{siteId:"127964"},0],[4,"540307318",0,0],[5,"11002906",0,0],[10,"193274",{size:"300x250"},0],[114,"4817329",{size:"300x250"},0],[116,"662144784",0,0],[159,"14857651",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR5_300x250",0,function(e,t){return t.new_tl_test(e)}]]],6:[6,"Healthline Desktop_300x250_6","300x250",["300x600"],.2,700,0,0,{"gpt.adunit_regex":"DMR6$"},[[2,"604652",{siteId:"127964"},0],[4,"540307320",0,0],[5,"11002907",0,0],[10,"193275",{size:"300x250"},0],[114,"4817331",{size:"300x250"},0],[116,"753865295",0,0],[159,"14857652",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR6_300x250",0,function(e,t){return t.new_tl_test(e)}]]],7:[7,"Healthline Desktop_300x250_7","300x250",["300x600"],.2,700,0,0,{"gpt.adunit_regex":"DMR7$"},[[2,"604654",{siteId:"127964"},0],[4,"540307321",0,0],[5,"11002908",0,0],[10,"193276",{size:"300x250"},0],[114,"4817330",{size:"300x250"},0],[116,"661335883",0,0],[159,"14857653",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR7_300x250",0,function(e,t){return t.new_tl_test(e)}]]],8:[8,"Healthline Desktop_300x250_8","300x250",["300x600"],.2,700,0,0,{"gpt.adunit_regex":"DMR8$"},[[2,"604656",{siteId:"127964"},0],[4,"540307322",0,0],[5,"11002909",0,0],[10,"193277",{size:"300x250"},0],[114,"4817335",{size:"300x250"},0],[116,"537318873",0,0],[159,"14857654",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR8_300x250",0,function(e,t){return t.new_tl_test(e)}]]],9:[9,"Healthline Desktop_300x250_9","300x250",["300x600"],.2,700,0,0,{"gpt.adunit_regex":"DMR9$"},[[2,"604658",{siteId:"127964"},0],[4,"540307323",0,0],[5,"11002910",0,0],[10,"193278",{size:"300x250"},0],[114,"4817336",{size:"300x250"},0],[116,"787285489",0,0],[159,"14857656",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR9_300x250",0,function(e,t){return t.new_tl_test(e)}]]],10:[10,"Healthline Desktop_300x250_10","300x250",["300x600"],.2,700,0,0,{"gpt.adunit_regex":"DMR10$"},[[2,"604660",{siteId:"127964"},0],[4,"540307332",0,0],[5,"11002911",0,0],[10,"193279",{size:"300x250"},0],[114,"4817321",{size:"300x250"},0],[116,"136586158",0,0],[159,"14857642",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR10_300x250",0,function(e,t){return t.new_tl_test(e)}]]],11:[11,"Healthline Desktop_300x250_11","300x250",["300x600"],.2,700,0,0,{"gpt.adunit_regex":"D(CMR1|MR11)$"},[[2,"604662",{siteId:"127964"},0],[4,"540307346",0,0],[5,"11002912",0,0],[10,"193280",{size:"300x250"},0],[114,"4817318",{size:"300x250"},0],[116,"168330849",0,0],[159,"14857643",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR11_300x250",0,function(e,t){return t.new_tl_test(e)}]]],12:[12,"Healthline Desktop_300x250_12","300x250",["300x600"],.2,700,0,0,{"gpt.adunit_regex":"D(CMR2|MR12)$"},[[2,"604664",{siteId:"127964"},0],[4,"540307347",0,0],[5,"11002913",0,0],[10,"193281",{size:"300x250"},0],[114,"4817320",{size:"300x250"},0],[116,"821682258",0,0],[159,"14857644",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR12_300x250",0,function(e,t){return t.new_tl_test(e)}]]],13:[13,"Healthline Desktop_300x250_13","300x250",["300x600"],.2,700,0,0,{"gpt.adunit_regex":"D(CMR3|MR13)$"},[[2,"604666",{siteId:"127964"},0],[4,"540307348",0,0],[5,"11002914",0,0],[10,"193282",{size:"300x250"},0],[114,"4817327",{size:"300x250"},0],[116,"678963628",0,0],[159,"14857645",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR13_300x250",0,function(e,t){return t.new_tl_test(e)}]]],14:[14,"Healthline Desktop_300x250_14","300x250",["300x600"],.2,700,0,0,{"gpt.adunit_regex":"D(CMR4|MR14)$"},[[2,"604668",{siteId:"127964"},0],[4,"540307349",0,0],[5,"11002915",0,0],[10,"193283",{size:"300x250"},0],[114,"4817326",{size:"300x250"},0],[116,"537717616",0,0],[159,"14857646",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR14_300x250",0,function(e,t){return t.new_tl_test(e)}]]],15:[15,"Healthline Desktop_300x250_15","300x250",["300x600"],.2,700,0,0,{"gpt.adunit_regex":"D(CMR5|MR15)$"},[[2,"604670",{siteId:"127964"},0],[4,"540307351",0,0],[5,"11002916",0,0],[10,"193284",{size:"300x250"},0],[114,"4817328",{size:"300x250"},0],[116,"571841601",0,0],[159,"14857647",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DMR15_300x250",0,function(e,t){return t.new_tl_test(e)}]]],16:[16,"Healthline Desktop_728x90_1","728x90",["970x250"],.2,700,0,0,{"gpt.adunit_regex":"DLB1$"},[[2,"604630",{siteId:"127964",position:"atf"},0],[4,"540307352",0,0],[5,"11002896",0,0],[10,"193264",{size:"728x90"},0],[114,"4817322",{size:"728x90"},0],[116,"814147833",0,0],[159,"14857657",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DCMR1_300x250",0,function(e,t){return t.new_tl_test(e)}]]],17:[17,"Healthline Desktop_728x90_2","728x90",["970x250"],.2,700,0,0,{"gpt.adunit_regex":"DLB2$"},[[2,"604632",{siteId:"127964"},0],[4,"540307353",0,0],[5,"11002897",0,0],[10,"193265",{size:"728x90"},0],[114,"4817319",{size:"728x90"},0],[116,"275526781",0,0],[159,"14857658",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DLB2_728x90",0,function(e,t){return t.new_tl_test(e)}]]],18:[18,"Healthline Desktop_728x90_3","728x90",["970x250"],.2,700,0,0,{"gpt.adunit_regex":"DLB3$"},[[2,"604634",{siteId:"127964"},0],[4,"540307354",0,0],[5,"11002898",0,0],[10,"193266",{size:"728x90"},0],[114,"4817316",{size:"728x90"},0],[116,"679392274",0,0],[159,"14857659",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Desktop_DLB3_728x90",0,function(e,t){return t.new_tl_test(e)}]]],19:[19,"Healthline Mobile_320x50","320x50",["300x50"],.2,700,0,0,{"gpt.adunit_regex":"MLB1$","vp.max_width":767},[[2,"604682",{siteId:"127968"},0],[4,"540307355",0,0],[5,"11002922",0,0],[10,"193290",{size:"320x50"},0],[113,"738762996262850_739262459546237",{size:"320x50"},0],[114,"4817339",{size:"320x50"},0],[116,"917839699",0,0],[159,"14857669",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Mobile_MLB1_320x50",0,function(e,t){return t.new_tl_test(e)}]]],20:[20,"Healthline Mobile_300x250_1","300x250",["300x50"],.2,700,0,0,{"gpt.adunit_regex":"MMR1$"},[[2,"604684",{siteId:"127968"},0],[4,"540307376",0,0],[5,"11002923",0,0],[10,"193291",{size:"300x250"},0],[18,"healthline_article_300x250_mobile_AB",0,function(e,t){return t.new_tl_test(e)}],[113,"738762996262850_739266686212481",{size:"300x250"},0],[114,"4817338",{size:"300x250"},0],[116,"339384118",0,0],[159,"14857664",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Mobile_MMR2_300x250",0,function(e,t){return t.new_tl_test(e)}]]],21:[21,"Healthline Mobile_300x250_2","300x250",["300x50"],.2,700,0,0,{"gpt.adunit_regex":"MMR2$"},[[2,"604686",{siteId:"127968"},0],[4,"540307377",0,0],[5,"11002924",0,0],[10,"193292",{size:"300x250"},0],[18,"healthline_article_300x250_mobile_2_AB",0,function(e,t){return t.new_tl_test(e)}],[113,"738762996262850_845190815620067",{size:"300x250"},0],[114,"4817344",{size:"300x250"},0],[116,"189578804",0,0],[159,"14857665",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Mobile_MMR5_300x250",0,function(e,t){return t.new_tl_test(e)}]]],22:[22,"Healthline Mobile_300x250_3","300x250",["300x50"],.2,700,0,0,{"gpt.adunit_regex":"MMR3$"},[[2,"604688",{siteId:"127968"},0],[4,"540307378",0,0],[5,"11002925",0,0],[10,"193293",{size:"300x250"},0],[18,"healthline_article_300x250_mobile_3_AB",0,function(e,t){return t.new_tl_test(e)}],[113,"738762996262850_845190938953388",{size:"300x250"},0],[114,"4817342",{size:"300x250"},0],[116,"416732783",0,0],[159,"14857666",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Mobile_MMR4_300x250",0,function(e,t){return t.new_tl_test(e)}]]],23:[23,"Healthline Mobile_300x250_4","300x250",["300x50"],.2,700,0,0,{"gpt.adunit_regex":"MMR4$"},[[2,"604690",{siteId:"127968"},0],[4,"540307379",0,0],[5,"11002926",0,0],[10,"193294",{size:"300x250"},0],[114,"4817341",{size:"300x250"},0],[116,"579762571",0,0],[159,"14857667",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Mobile_MMR3_300x250",0,function(e,t){return t.new_tl_test(e)}]]],24:[24,"Healthline Mobile_300x250_5","300x250",["300x50"],.2,700,0,0,{"gpt.adunit_regex":"MMR5$"},[[2,"604692",{siteId:"127968"},0],[4,"540307380",0,0],[5,"11002927",0,0],[10,"193295",{size:"300x250"},0],[114,"4817340",{size:"300x250"},0],[116,"823314966",0,0],[159,"14857668",{test:1},0],[160,"1224492",{test:1,site:247338},0],[174,"Healthline_Mobile_MMR1_300x250",0,function(e,t){return t.new_tl_test(e)}]]]}},l={},f={},n={};window.AdBridg=window.AdBridg||{cmd:[]},window.AdBridg.global=function(e,t){if(void 0===t)return p.logl("g","Global read: ",e,n[e]),n[e];n[e]=t,p.logl("g","Global set: ",e,t)},window.AdBridg.globals={version:"1.34.0-pre"},u.s.preconfigure_init&&p.wrapAsync(u.s.preconfigure_init)(u.s),o.getId=function(){return u.c},o.libSettings=function(){return u.s},o.kvp=function(e){var t=u.s.gpt_kvp_overrides;return t&&t[e]?t[e]:e},o.proc=function(e){u.s.pub=u.s.pub||{},p.each(e,function(e,t){u.s.pub[t]=e}),p.log("Publisher config update: ",JSON.stringify(u.s.pub)),t("./modules.js").trigger("pub.config",u.s.pub)},o.deca=function(e){if(u.s.alter_adb_pixel)try{e=u.s.alter_adb_pixel(e)}catch(e){p.err("Alter adb fail",e)}return e};o.configureUnit=function(e,t){var n=!1,r=[];for(var i in u.u)if(u.u.hasOwnProperty(i)){var a=c(0,u.u[i]);if(u.s.dynamic_configuration)try{var o=u.s.dynamic_configuration(a,u.s,e);if("object"!=typeof o&&!1!==o||(a=o),!a)continue}catch(e){p.err("Failed dynamic configuration",e)}if(t){if(t!=a.id)continue;n=a;break}if(a.rule_order)r[a.rule_order]=a;else if(d(e,a,u.s)){n=a;break}}if(!n&&r.length)for(var s=0;s<r.length;++s)if(r[s]&&d(e,r[s],u.s)){n=r[s];break}n&&(e.configure(n),function(e,t){var n;if(t.bid_req_confs&&t.bid_req_confs.length)for(var r=0;r<t.bid_req_confs.length;++r){var i=t.bid_req_confs[r],a={bidder_id:(n=i)[0],bidder_unit_id:n[1],settings:n[2]||{},mutate:n[3]||!1};0;var o=f[String(a.bidder_id)];p.qsab(o,a.bidder_id)&&(e.addBidder(o,l[o]),e.addBidReqConf(o,a,u.s))}}(e,n))},o.units=function(n){p.each(u.u,function(e,t){n(c(0,e))})};var r=u.s.usp;"function"==typeof r&&(r=r()),r&&p.cfusp(r.image,r.iframe,r.delay);var a=!1,s=!1,g=!1,m=!1,h=!1,v=u.s.cmp_allow_geofail,b=[],y=[],_=p.qs("adb_gdpr"),x=!1,w=u.s.cmp;"function"==typeof w&&(a=!0,w(u.s,function(e){p.log("Publisher CMP determined: ",e),w=e,a=!1,o.afterConsent()}));function A(e){for(x=e;y.length;)y.shift()(x)}function S(){p.err("GDPR block bids, allow DFP; cmp=",w),u.u=[],u.s.gptnpa&&(p.log("Setting NonPersonalizedAds=1"),googletag.cmd.push(function(){googletag.pubads().setRequestNonPersonalizedAds(1)})),A({gdprApplies:!0,consentString:""})}var I,z,k=u.s.cmp_fallback,E=0;o.afterConsent=function(e){clearTimeout(I);var t=u.s.cmp_check_interval,n=u.s.cmp_check_max,r="function"==typeof e;if(w)if(x)r&&e(x);else if(r&&(e=p.wrapAsync(e),y.push(e)),"pubblock"!=w){if("iab"==w||"conversant"==w){if("function"!=typeof window.__cmp)return t&&E<n?(s||(s=!0,p.log("CMP not present; checking every ",t,"ms; max ",n,"intervals")),void(I=setTimeout(function(){++E,o.afterConsent()},t))):void(z||(z=!0,k?(w=k,p.err("CMP fallback to",w),setTimeout(function(){o.afterConsent()},0)):p.err("CMP object not found; exiting!")));if(a)return;return a=!0,p.log("CMP check"),void __cmp("getVendorConsents",null,function(e){p.log("CMP consent: ",e);var t={consentString:e?"iab"==w?e.consentData:e.metadata:void 0,vendorData:e?e.vendorConsents:void 0,gdprApplies:e?e.gdprApplies:void 0};A(t)})}g||"geoblock"!=w&&"geoblockbids"!=w&&"geocmp"!=w||(g=!0,function(e){if(!h&&_&&(p.log("Emulating GDPR"),h={cc:"XX",gdpr:!0}),!h&&p.cr("adbnoteu")&&(p.log("Non-GDPR geo cookie found"),h={cc:"XX",gdpr:!1}),h)return e(h);b.push(e),m||(m=!0,p.log("Geolocation requested"),i({url:("http:"===location.protocol?"http:":"https:")+"//cc.adspsp.com",withCredentials:!0},function(e,t){if(e){if(p.err("geobfail1",e),!v)return;h={cc:"11",gdpr:!1}}else try{h=JSON.parse(t)}catch(e){if(p.err("geobfail2",e),!v)return;h={cc:"22",gdpr:!1}}for(p.log("Geolocation result",h),h.gdpr||p.cw("adbnoteu",1,5);b.length;)b.shift()(h)}))}(function(e){return e.gdpr?"geocmp"==w?(w=u.s.cmp_for_geo,a=g=!1,p.log("GDPR applies, establishing dependency on CMP: ",w),void setTimeout(function(){o.afterConsent()},0)):"geoblock"==w?p.err("GDPR block all",e.cc):(g=!1,void S()):(p.log("GDPR OK: CC",e.cc," not in EU."),A({gdprApplies:!1,consentString:""}),void(g=!1))}))}else S();else r&&e()};function R(r,i,a){o.afterConsent(function(e){if(e&&e.gdprApplies&&!e.consentString)return p.log("GDPR skip register",r,e);if(l[r])p.err("Duplicate bidder alias "+r);else{var t,n={bidder_id:(t=a)[0],settings:t[1]||{},mutate:t[2]||!1};0,l[r]=new i(r,n.bidder_id,n.settings,e),l[r].alias=r,l[r].id=n.bidder_id,l[r].settings=n.settings,l[r].mutate=n.mutate||!1,f[String(n.bidder_id)]=r}})}t("./modules.js").setup(o);var j=t("./adapters/triplelift_direct.js"),T=t("./adapters/s2s.js"),C=t("./adapters/medianet.js"),B=t("./adapters/aol.js"),D=t("./adapters/fan.js"),O=t("./adapters/triplelift.js"),P=t("./adapters/index.js"),U=t("./adapters/appnexusast.js"),M=t("./adapters/openx.js");R("rubicon",t("./adapters/rubicon.js"),[2,{accountId:11314},function(e,t){try{e.inventory={k1:t.pub&&t.pub.k1||"",k2:t.pub&&t.pub.k2||""},p.log("Rubicon KVP",e.inventory)}catch(e){p.err("HL Rubicon K1 fail",e)}return e}]),R("openx",M,[4,{delDomain:"healthline-d.openx.net"},0]),R("appnexus",U,[5,0,function(e,t){return e.params=e.params||{},e.params.keywords={k1:t.pub&&t.pub.k1||"",k2:t.pub&&t.pub.k2||""},e}]),R("ix",P,[10,0,0]),R("triplelift",O,[18,{check_gdpr:!0},0]),R("fan",D,[113,{min_cpm:1},0]),R("onedisplay",B,[114,{network:"9502.1"},0]),R("medianet",C,[116,{cid:"8CUPK277N"},function(e,t){return-1<["US","GB","UK","CA"].indexOf(t.pub.cc.toUpperCase())&&e}]),R("s2s_appnexus",T,[159,{dfp_bidder_name:"appnexus"},0]),R("s2s_rubicon",T,[160,{dfp_bidder_name:"rubicon",account:11314},0]),R("tpl_direct",j,[174,{check_gdpr:!0},0])},{"./adapters/aol.js":2,"./adapters/appnexusast.js":3,"./adapters/fan.js":4,"./adapters/index.js":5,"./adapters/medianet.js":6,"./adapters/openx.js":7,"./adapters/rubicon.js":8,"./adapters/s2s.js":9,"./adapters/triplelift.js":10,"./adapters/triplelift_direct.js":11,"./ajax":12,"./modules.js":17,"./utils":26}],16:[function(e,t,n){if(window.googletag=window.googletag||{cmd:[]},window.AdBridg=window.AdBridg||{cmd:[]},!(AdBridg.exists||googletag&&googletag.cmd&&googletag.cmd===AdBridg.cmd)){AdBridg.exists=!0;var v=e("../utils.js"),g=e("../unit.js"),u=e("../auction.js"),b=e("../config.js"),y=e("../analytics.js"),_=e("../modules.js");if(!v.qs("adb_off")){var a=!1,o=[],d=!1,c=[],s=!1,h=[],l=[],x={},w={},A={},m={},p=!1,f=[],S=[],I={},z=[],k="Workflow |",E=!0,r=b.libSettings().sra_if;(r&&!r()||b.libSettings().no_sra)&&(E=!1);function R(e,t){e=Math.round(100*e);for(var n=function(e){if(!P[e=e||".05:.05-10"]){P[e]=[];for(var t=e.split(","),n=0;n<t.length;++n){var r=t[n].split(":"),i=r[1].split("-"),a={increment:Math.round(100*parseFloat(r[0])),upper:Math.round(100*parseFloat(i[1])),final:!1};n==t.length-1&&(a.final=a.upper-a.increment),P[e].push(a)}}return P[e]}(t),r=0;r<n.length;++r){var i=n[r];if(i.final&&e>=i.upper-i.increment)return{r:parseFloat(((i.final+i.increment)/100).toFixed(2)),kv:(i.final/100).toFixed(2)+"-"};if(!(e>=i.upper)){var a=Math.floor(e/i.increment)*i.increment/100,o=parseFloat((a+i.increment/100).toFixed(2)),s=o-.01;return{r:o,kv:Math.max(.01,a).toFixed(2)+"-"+s.toFixed(2)}}}}function j(e){var t,n,r=b.libSettings().gpt_clear_kvps,i=[],a=e.getTargetingMap(),o=!1;for(n in a)a.hasOwnProperty(n)&&("adb_"==n.substr(0,4)||r&&0<=r.indexOf(n)?o=!0:i.push([n,a[n]]));if(o)for(e.clearTargeting(),t=0;t<i.length;++t)e.setTargeting(i[t][0],i[t][1]);U(e)}function T(e,t){var n=b.libSettings().gpt_exclusions;if(n){var r=[];for(var i in n){var a=n[i];("function"==typeof a&&a(e,t)||a<=t)&&(e.setCategoryExclusion(i),r.push(i))}r.length&&v.log("Set GPT category exclusions for ",e.getAdUnitPath()," / ",e.getSlotElementId(),": ",r)}}function C(t,n,o){0;return v.wrapAsync(function(a){de("ra",function(){var i=[];a.eachUnit(function(t){if(a===d){if(!t.get("gpt_slot")||t.get("preload_used"))return;t.set("preload_used",1)}try{var e=b.libSettings().post_auc_ufilter;if(e){var n=e(t,o);if(n)return void v.log("Ignoring",t.alias,t.get("dom_id"),n)}}catch(e){v.err("Err auc unit filter ",t.alias,t.get("dom_id"),e)}try{if(t.settings.require_bid&&!t.getWinner())return v.log("Discarding unit ",t.alias,t.get("dom_id")," -- requires bid but had none."),void v.thread(function(){AdBridg.destroySlots([t.get("gpt_slot")])})();var r=t.getWinner();r&&r.config.unit.setImpData("adb_mtype",r.extras.mediaType),function(e){var t=b.libSettings().bid_strategy,n=e.getWinner(),r=e.get("gpt_slot");j(r),_.trigger("gpt.set_targeting",e,r);var i=e.get("adb_imp_data");if(i){var a=r.getTargeting("adb_imp")||[];v.isarr(a)||(a=[a]),v.each(i,function(e,t){e&&-1==a.indexOf(e)&&a.push(e)}),a.length&&r.setTargeting(b.kvp("adb_imp"),a)}if(b.libSettings().track_alias&&r.setTargeting(b.kvp("adb_cfg"),e.alias),!n)return r.setTargeting(b.kvp("adb_bdr"),["none"]),T(r,-1),_.trigger("gpt.no_hbc",e,r,function(e){return R(e,t)},function(e,t){U(e),T(e,t)});var o=(I[n.id]=n).config.dfp_bidder_name||n.config.bidder_name,s=n.cpm,d=b.libSettings().cur;d&&(d.exclude&&-1<d.exclude.indexOf(n.config.bidder_id)?v.log("Currency conversion skipped: ",n.config.bidder_name):(v.log("Currency conversion: USD = ",s,"; Rate = ",d.rate,"; DFP = ",d.rate*s),s*=d.rate));var c=R(s,t),u=c.kv;_.trigger("gpt.modify_hbc",e,r,{bid:n,range:c,mod:function(e){return c=R(s=e,t),u=c.kv,c}}),v.qs("adb_force_bidder")?(o="force",u=""):v.qs("adb_force_sf_bidder")&&(o="forcesf",u="");var l=b.libSettings().vs_threshold;if("function"==typeof l)try{var p=l(s);p&&r.setTargeting(b.kvp("adb_vs"),p)}catch(e){v.err("HVfail",e)}r.setTargeting(b.kvp("adb_bdr"),[o]),r.setTargeting(b.kvp("adb_hbc"),[u]),r.setTargeting(b.kvp("adb_adid"),[n.id]),b.libSettings().track_mtype&&n.extras&&n.extras.mediaType&&r.setTargeting(b.kvp("adb_mtype"),[n.extras.mediaType]),v.log("Set GPT targeting for ",r.getAdUnitPath()," / ",r.getSlotElementId(),": ",o,u),T(r,s)}(t),i.push(t.get("gpt_slot"))}catch(e){v.err("Err setting unit ",t.alias,t.get("dom_id"),e)}});var e=S.concat(i);if(S=[],q(e),"function"==typeof t&&t(a),E&&!(e=H("AC",e)).length)return v.err("All units cancelled",a.id);(E||o)&&(K(),v.log(k,"GPT Batch: ",e.length),googletag.pubads().refresh(e,n),_.trigger("gpt.request_adbridg",a,o))})})}function B(){if(p){var e=f.length;if((f=H("PT",f)).length){if(v.isdebug()){var t=[];v.each(f,function(e){t.push(e.getAdUnitPath()+" / "+e.getSlotElementId())}),v.log("Non-bid request with",f.length," units: ",t)}de("rp",function(){var e=f;f=[],e.length&&(K(),q(e),v.log(k,"GPT PT Batch: ",e.length),googletag.pubads().refresh(e),_.trigger("gpt.request_passthrough",e))})}else e&&v.err("PT units cancelled")}}function D(e){v.log("Locked slot: ",e.getSlotElementId()),L[e.getSlotElementId()]=!0}function O(e,r,i){var a=[];a=Number(e[0])==e[0]?[e]:[].concat(e);var o=[];if(v.each(a,function(e,t){if("string"==typeof e[t]){var n=e[t].split("x");return 0!=n[0]&&0!=n[1]||v.err("0 size in",r,i,e[t]),void(e[t].match(/^\d+x\d+$/)||o.push(t))}0!=e[0]&&0!=e[1]||v.err("0 size in",r,i,e.join("x")),a[t]=e.join("x")}),o.length)for(var t=o.length-1;0<=t;--t)a.splice(t,1);return a}var P={},U=function(e){var t=b.libSettings().gpt_exclusions;if(t){do_erase=!1;var n=e.getCategoryExclusions();for(i=n.length-1;0<=i;--i){var r=n[i];t.hasOwnProperty(r)&&(n.splice(i,1),do_erase=!0)}if(do_erase)for(e.clearCategoryExclusions(),i=0;i<n.length;++i)e.setCategoryExclusion(n[i])}},M={},N={},q=function(e){v.each(e,function(e){var t=e.getSlotElementId(),n=(N[t]||0)+1;N[t]=n;var r=b.libSettings().track_imps;if(r)try{"string"!=typeof r&&(r="1:1-11"),imp_tracking=Math.floor(R(n,r).kv.split("-")[0]);for(var i=e.getTargeting("adb_imp"),a=i.length-1;0<=a;--a)String(i[a]).match(/^\d+$/)&&i.splice(a,1);i.push(imp_tracking),e.setTargeting(b.kvp("adb_imp"),i)}catch(e){v.err("Counter failed: ",e)}})},L={},H=v.wrapAsync(function(a,e,o){var s=b.libSettings().max_imp_ctr,d=[];return v.each(e,function(e){var t=e&&e.getSlotElementId?e:e.get("gpt_slot");if(t){var n=t.getSlotElementId();if(!A[n]){if(F("F"+a,n))return v.log("Slot excluded; element hidden",n);if(o){if(L[t.getSlotElementId()])return v.log("Cannot refresh locked dom_id: ",t.getSlotElementId());if(s){var r=N[n]||0;if(s<=r)return M[n]?v.log("Slot excluded; too many imps: ",t,r+" > "+s):v.err("Slot imp max: ",t.getAdUnitPath(),n,s)}}var i=[];if(_.trigger("gpt.filter_slot",a,t,o,i),i.length)return v.log("Module blocking",a,t,i);d.push(e)}}}),d}),F=function(e,t,n){var r=v.dom_invisible(t);if(r){n=n||0;var i=b.libSettings().block_invisible;if("function"==typeof i&&(i=i(e,t,r)),i)return v.err("DEI.R",e,t,r,n),r;v.err("DEI.A",e,t,r,n)}return!1};window.AdBridg.defineSlot=v.wrapAsync(function(e,t,n){var r=F("DS",n);if(r)return v.log("Slot definition blocked: ",n,r),!1;var i=b.libSettings().override_define;if("function"==typeof i)try{var a=i(e,t,n);a&&(a.dfp_ad_unit_path&&(e=a.dfp_ad_unit_path),a.dfp_sizes&&(t=a.dfp_sizes),a.dom_id&&(n=a.dom_id))}catch(e){v.err("DefineOverride",e)}t&&(!v.isarr(t)||t.length)||(y.ctr("dsea"),t=[1,1]);var o=googletag.defineSlot(e,t,n);if(!o)return o;o.addService(googletag.pubads()),D(o);var s=O(t,e,n),d=s.join(","),c=new g({dom_id:n,gpt_slot:o,gpt_sizes:d});c.restrictSizesTo(s),x[n]=d;var u=400,l=b.libSettings().lazy;if("function"==typeof l&&"number"==typeof(l=l(c,o,n,b.libSettings()))&&(u=l),l){v.log("Requiring lazy: ",n,"distance=",u),c.set("lock.lazy",1);var p=b.libSettings().lazy_measurement_filter;v.dom(n,u,0,function(){v.logl("wf",k,"unit triggered lazy load",c.alias,c.get("dom_id")),c.set("lock.lazy",!1),E?AdBridg.serve():AdBridg.display(n)},p,b.libSettings().lazy_compatible_collapse)}if(h.push(c),v.log(k,"Defined slot: ",e,n,d),_.trigger("gpt.define",c,o,e,t,n),b.libSettings().allow_serve_from_display&&m[n]&&(v.logl("wf",k,"triggering serve from define after display",n),AdBridg.serve()),!E){var f=b.libSettings().nonsra_poll;"function"==typeof f&&(f=f()),f&&(v.log("Nonsra poll for DOM ids"),$(n))}return o}),window.AdBridg.defineOutOfPageSlot=v.wrapAsync(function(e,t){var n=googletag.defineOutOfPageSlot(e,t);if(!n)return n;n.addService(googletag.pubads()),D(n);var r=new g({dom_id:t,gpt_slot:n,gpt_sizes:""});return h.push(r),v.log(k,"Defined OOP slot: ",e,t),_.trigger("gpt.define",r,n,e,!1,t),b.libSettings().allow_serve_from_display&&m[t]&&(v.logl("wf",k,"triggering serve from defineOOP after display",t),AdBridg.serve()),n});var V={},$=function(t){V[t]=V[t]||{ct:0,tx:-1};var n=V[t];clearTimeout(n.tx),10!=n.ct?(n.ct+=1,n.tx=setTimeout(v.wrapAsync(function(){if(!m[t]){var e=!!document.getElementById(t);if(v.log("Nonsra display poll #"+n.ct+": ",t,"; display received =",!!m[t],"; dom exists =",e),e)return v.log("Nonsra issuing display from poll",t),void AdBridg.display(t);$(t)}}),1e3)):v.log("Nonsra display poll is giving up on",t)};window.AdBridg.display=v.wrapAsync(function(e,t,n){if(n?(AdBridg.defineSlot(e,t,n),AdBridg.serve()):n=e,m[n]=!0,v.logl("wf",k,"display received",n),b.libSettings().allow_serve_from_display&&h.length&&(v.logl("wf",k,"triggering serve from display",n),AdBridg.serve()),p=!0,!E){h.length&&(l=l.concat(h),h=[]);for(var r=l.length-1;0<=r;--r){var i=l[r].get("dom_id");if(m[i]){var a=l.splice(r,1)[0];if(!a.get("gpt_sizes")){v.logl("Ignoring display for unit with no sizes",i);continue}h.push(a)}}return h.length?(v.logl("wf",k,"nonsra issuing serve",h.length),void Y(function(r,i){de("dn",function(){r?r.eachUnit(function(e){v.logl("wf",k,"display resolved",e.get("dom_id"),"auction=",r),googletag.display(e.get("dom_id")),_.trigger("gpt.request_nosra",e.get("dom_id"))}):(v.logl("wf",k,"display resolved",i," as passthrough"),googletag.display(i),_.trigger("gpt.request_nosra",i));var e=l.length;if(e){v.logl("wf",k,"nonsra units queued: ",e);for(var t=e-1;0<=t;--t){var n=l[t].get("dom_id");if(m[n]){setTimeout(function(){AdBridg.display(n)},0);break}}}})})):void v.logl("wf",k,"nonsra display waiting on definition/serve")}de("ds",function(){K(),v.logl("wf",k,"display resolved",n),googletag.display(n)}),B()}),window.AdBridg.refresh=v.wrapAsync(function(e,t){if(e=e||googletag.pubads().getSlots(),b.libSettings().allow_serve_from_refresh&&h.length){for(var n=e.length-1;0<=n;n--)for(var r=h.length-1;0<=r;r--)e[n]===h[r].get("gpt_slot")&&e.splice(n,1);if(AdBridg.serve(),!e.length)return}var i=e.length;if(e=H("RF",e,!0),v.logl("wf",k,"refresh: ",i,"slots requested; ",i-e.length,"filtered out;",e.length,"remaining."),e.length){var o=new u,s="no_auction"!=b.libSettings().refresh,d=[],c=[];v.each(e,function(e){try{j(e)}catch(e){return v.err("Failed to clear slot: ",e)}var t=e.getSlotElementId();D(e);var n=x[t]||"";if(w[t]){var r=w[t].adb||w[t].gpt,i=r&&"0x0"!=r&&r.match(/^\d{2,}x\d{2,}\d/);v.logl("sz","Refresh size restriction for",t,"=",r,"; is_valid=",i),i&&(n=r)}var a=new g({dom_id:t,gpt_slot:e,gpt_sizes:n,is_refresh:!0});s&&(b.configureUnit(a),v.logl("sz","Refresh restricting sizes to ",n),a.restrictSizesTo(n.split(","))),a.hasBidReqConf()?o.addUnit(a):(c.push(e.getAdUnitPath()+" / "+e.getSlotElementId()),d.push(e))}),d.length&&(v.log("Refreshing",d.length,"non-bid units: ",c),de("rn",function(){K(),q(d),v.log(k,"GPT RF Batch: ",d.length),googletag.pubads().refresh(d,t),_.trigger("gpt.request_passthrough",d,!0)})),o.hasUnit()&&(z.push(o),o.execute(C(null,t,!0)))}else i&&v.err("RF units cancelled")});var G={},W=v.wrapAsync(function(e){var t=String(e.message?e.message:e.data),n=t.substr(0,9),r=t.substr(10);return"adbsrverr"==n?v.err("Safeframe error: ",r):"adbsrvlog"==n?v.log("Safeframe: ",r):"adbsrvreq"==n?G.hasOwnProperty(r)?v.err("SafeframeDupe:",r):void AdBridg.render({safeframe:!0,source:e.source},r):void 0});window.addEventListener?window.addEventListener("message",W,!1):document.attachEvent&&window.attachEvent("onmessage",W),window.AdBridg.render=v.wrapAsync(function(t,e){var n,r=!("object"!=typeof e);if(r)n=e,v.log("Unit ",n.config.unit.alias," rendering ",n.width+"x"+n.height," [override] creative from ",n.config.bidder_name," BR ",n.config.id);else{if(!I[e])return void v.err("Render failed for ID ",e);n=I[e],v.log("Unit ",n.config.unit.alias," rendering ",n.width+"x"+n.height," creative from ",n.config.bidder_name," BR ",n.config.id),y.bidRendered(n)}var i=n.config.unit.get("dom_id"),a=v.dom_invisible(i);F("AR",i,n.config.bidder_id),a&&v.log("AdBridg render detected invisible container at time of render:",i,a);var o={config:n.config.unit.alias,bidder:n.config.bidder_name,size:n.width+"x"+n.height,extras:n.extras,dom_id:i};r&&(o.override=1);var s=JSON.stringify(o);if(_.trigger("bid.render",n,o),t.safeframe&&t.source&&t.source.postMessage){var d=b.libSettings().pmmutatefn;if(!n.creative)return v.err("Safeframe render fail: no creative");var c={ad:"\x3c!-- AdBridg Delivery (SF): "+s+" --\x3e"+n.creative};"function"==typeof d&&(c=d(n,c)),t.source.postMessage("adbsrvad:"+JSON.stringify(c),"*")}else if(n.creative){var u=b.libSettings().pubrenderfn,l=!1;"function"==typeof u&&(t.write("\x3c!-- AdBridg Delivery (ER): "+s+" --\x3e"),u(t,n.creative,n.config.bidder_name,n.width,n.height,n)?(l=!0,v.log("Creative rendered externally")):v.log("External render skipped")),l||(t.write("\x3c!-- AdBridg Delivery: "+s+" --\x3e"),t.write(n.creative),t.close())}else if(n.creative_url)try{var p=v.iiframe();p.width=n.width,p.height=n.height,p.style.display="inline",p.style.overflow="hidden",p.src=n.creative_url,t.body.appendChild(document.createComment("AdBridg Delivery: "+s)),t.body.appendChild(p)}catch(e){v.err("Delivery failure from ",n.config.bidder_name," / ",n.config.bidder_unit_id,e)}else{if("function"!=typeof n.render)return v.err("No creative from ",n.config.bidder_name," / ",n.config.bidder_unit_id);n.rawbid.adUnitCode=document.getElementById(i).children[0].id,document.getElementById(n.rawbid.adUnitCode).innerHTML="",n.render(),v.rec("winner.render:"+n.id)}var f=n.resize_pad_top||!1,g=document.getElementById(i);if(g.style.textAlign="center",function(e){var t=e.getElementsByClassName("adbridg-dyn-pad");if(t.length&&v.each(t,function(e){e.parent.removeChild(e)}),f){var n=v.prepend(e,"span");n.className="adbridg-dyn-pad",n.innerHTML="&nbsp;",n.style="display:block;width:1px;height:"+f+"px;overflow:hidden;";var r=document.createElement("span");r.className="adbridg-dyn-pad",r.innerHTML="&nbsp;",r.style="display:block;width:1px;height:"+f+"px;overflow:hidden;",e.appendChild(r)}}(g),t.safeframe)try{var m=g.getElementsByTagName("iframe");v.each(m,function(e){e.contentWindow===t.source&&(v.logl("RS","RS SF element: ",e.id,n.width,n.height),v.resize_element(e,n.width,n.height),String(e.parentNode.id).match(/google_ads_iframe.*container/)&&(v.logl("RS","RS SF parent: ",e.parentNode.id,n.width,n.height),v.resize_element(e.parentNode,n.width,n.height)))})}catch(e){v.err("Frame resize fail: ",e)}else t.defaultView&&t.defaultView.frameElement&&(t.defaultView.frameElement.width=n.width,t.defaultView.frameElement.height=n.height),v.logl("RS","RS iframe: ",n.width,n.height),v.resize_iframe(window,t,n.width,n.height);b.libSettings().refresh_keep_size&&(w[i]||(w[i]={gpt:"",adb:""}),w[i].adb=o.size,v.log("SIZE REFRESH KEEPING ADB: ",i,w[i]));var h=b.libSettings().post_render;"function"==typeof h&&h(n)});var J=[];window.AdBridg.sizeMapping=v.wrapAsync(function(){var e,n=[],r=googletag.sizeMapping(),i={addSize:v.wrapAsync(function(e,t){return r.addSize(e,t),n.push([e,t]),i}),build:v.wrapAsync(function(){return e=r.build(),J.push({gpt_map:e,sizes:n}),e})};return i}),window.AdBridg.useSizeMapping=v.wrapAsync(function(e,t,n){var r,i=!1,a=e.getSlotElementId(),o=e.getAdUnitPath();for(r=J.length-1;0<=r;--r)if(J[r].gpt_map===t){i=J[r].sizes;break}if(i){var s=v.vp(),d=s.w,c=s.h,u=!1,l=[];for(r=i.length-1;0<=r;--r){var p=i[r][0];if(d>=p[0]&&c>=p[1]){if(u){if(u[0]>p[0])continue;if(u[0]==p[0]&&u[1]>p[1])continue}u=p,l=i[r][1]}}var f=O(l,o,a),g=f.join(",");x[a]=g;var m=n||!1;if(!m)for(r=h.length-1;0<=r;--r)if(h[r].get("gpt_slot")===e){m=h[r];break}if(!m)return v.err("No unit for size map: ",o,a);m.set("gpt_sizes",g),m.restrictSizesTo(f),x[a]?v.log("Applied size mapping to ",a," / ",o,": ",g):(A[a]=1,v.log("Excluding unit ",a," / ",o," because it has no valid sizes"))}else v.err("Size mapping not found: ",o,a)}),window.AdBridg.resetInternals=function(){};var X=!(window.AdBridg.destroySlots=function(e){e=e||googletag.pubads().getSlots();var n=[];return v.each(e,function(e){if(e){var t=e.getSlotElementId();delete N[t],delete x[t],delete w[t],delete A[t],delete L[t],delete m[t],v.undom(t),_.trigger("gpt.destroy",e,t),n.push(t)}}),v.log("Destroyed slots: ",n),googletag.destroySlots(e)}),K=function(){if(!X){X=!0;var e=b.libSettings().before_gpt;"function"==typeof e&&v.wrapAsync(e)(),_.trigger("gpt.before_enable_services"),googletag.enableServices(),_.trigger("gpt.after_enable_services")}},Q=!1,Y=v.wrapAsync(function(e){v.logl("wf",k,"serve called with",h.length,"pending units");var t=!1;K();for(var n=!1,r=0;h.length>r;){var i=h.shift();if(i.get("lock.lazy"))v.logl("wf",k,"serve skipped lazy",i.alias,i.get("dom_id")),r+=1,h.push(i);else{var a=i.get("dom_id");if(A[a]||!F("AS",a))if(b.configureUnit(i),i.hasBidReqConf()){if(d){var o=c.indexOf(i.id);if(0<=o){var s=!1;if(d.eachUnit(function(e){if(e.id==i.id){s=!0,c.splice(o,1),v.log("Proxy into preload ",i.alias);var t=i.get("gpt_slot"),n=i.get("dom_id"),r=x[n]||i.get("gpt_sizes")||"";e.set({dom_id:n,gpt_slot:t,gpt_sizes:r}),e.restrictSizesTo(r.split(",")),_.trigger("unit.pre_attach",e)}}),s){n=!0;continue}}}(t=t||new u).addUnit(i)}else E?f.push(i.get("gpt_slot")):(q([i.get("gpt_slot")]),v.thread(e)(!1,i.get("dom_id")));else v.err("Slot rejected before auction, element hidden:",a)}}(t||d)&&b.libSettings().gpt_keep_oop&&f.length&&(v.log("Batching passthrough units with auction units"),S=S.concat(f),f=[]),t&&(z.push(t),t.execute(C(e)),t=!1),n&&!Q&&(Q=!0,pe(C())),B()}),Z=!1;window.AdBridg.serve=function(e){if(clearTimeout(Z),E){v.logl("wf",k,"queuing serve");var t=b.libSettings().batch_delay;if("function"==typeof t&&(t=t(h)),0===t)return v.log("Starting auctions ASAP."),Y(e);t=t||100,Z=setTimeout(function(){Y(e)},t)}else for(var n=h.length-1;0<=n;--n){var r=h[n].get("dom_id");if(m[r]){setTimeout(function(){AdBridg.display(r)},0);break}}};function ee(e){for(var t,n,r=z.length-1;0<=r&&!(t=(n=z[r]).findUnit(e));--r);return!t&&d&&(t=(n=d).findUnit(e)),!!t&&{auction:n,unit:t}}var te=v.wrapAsync(function(t){var e,n=t.slot.getSlotElementId();!t.isEmpty&&F("RE",n)&&v.log("Slot rendered from GPT, but element hidden by CSS:",n);try{e=t.slot,v.log("Unlocked slot: ",e.getSlotElementId()),L[e.getSlotElementId()]=!1,j(e)}catch(e){v.err("Unlock failed")}var r=N[n];_.trigger("gpt.render_raw",t,r);var i=ee(function(e){return e.get("gpt_slot")===t.slot});if(b.libSettings().refresh_keep_size&&t.size&&2==t.size.length&&(w[n]||(w[n]={gpt:"",adb:""}),w[n].gpt=t.size.join("x")),i){if(!i.auction)return v.err("AUQ",t.slot.getAdUnitPath(),t.slot.getSlotElementId());y.gptRendered(i.auction,i.unit,t),_.trigger("gpt.render",i.unit,t,r),v.qdusp()}}),ne=v.wrapAsync(function(t){_.trigger("gpt.viewed_raw",t);var e=ee(function(e){return e.get("gpt_slot")===t.slot});if(e){y.gptViewed(e.auction,e.unit);try{var n=b.libSettings().post_view;"function"==typeof n&&n(t,e.unit)}catch(e){v.err("PostView fail",e)}_.trigger("gpt.viewed",t.slot,e.unit);var r=t.slot.getSlotElementId();F("VE",r)&&v.log("Slot viewed from GPT, but element hidden by CSS:",r)}}),re=[],ie={};window.AdBridg.lock=function(e){if(ie[e])return ie[e]=null,v.log("-== GPT lock already cleared: ",e);v.log("-== GPT locked by: ",e),re.push(e)},window.AdBridg.unlock=function(e,t){for(var n=!1,r=0;r<re.length;++r)if(re[r]==e){v.log("-== GPT lock cleared: ",e),re.splice(r,1),n=!0;break}n||t||(ie[e]=!0,v.log("-== GPT unrecognized lock cleared: ",e)),ce()};function ae(){AdBridg.cmd.unshift(function(){window.AdBridg.lock("window.focus"),ue<=99&&(ue+=1),y.meta("wb",ue)})}function oe(){AdBridg.cmd.push(function(){window.AdBridg.unlock("window.focus",!0),y.meta("wb",0)})}var se=[],de=function(e,t){se.push({n:e,f:v.wrapAsync(t)}),ce()},ce=function(){if(!re.length)for(se.length;se.length;){se.shift().f()}},ue=0;window.addEventListener?(window.addEventListener("blur",ae),window.addEventListener("focus",oe)):window.attachEvent&&(window.attachEvent("onblur",ae),window.attachEvent("onfocus",oe)),v.isdebug()&&(AdBridg.auctions=z,AdBridg.utils=v);var le=v.wrapAsync(function(){_.trigger("adb.init"),googletag.pubads().addEventListener("slotRenderEnded",te),googletag.pubads().addEventListener("impressionViewable",ne),a=!0;var e=b.libSettings().initfn;for(e&&AdBridg.cmd.push(e);o.length;){var t=o.shift();AdBridg.cmd.push(t)}});window.AdBridg.lazy=function(e,t,n,r){"function"==typeof n&&(r=n,n=0),v.dom(e,t,n,r)},v.log("First execution."),b.afterConsent(function(e){if(!e||!e.gdprApplies||e.consentString){var t=b.libSettings().preload&&b.libSettings().preload()||[];if(t.length){function n(n){function r(e){function t(e){2==e.length&&1<e[0]&&1<e[1]?n.push(e):v.err("Invalid preload size: ",e)}var n=[];return v.isarr(e)&&(v.isarr(e[0])?v.each(e,t):t(e)),n}var i=r(n.size||[]);return function(){var e=AdBridg.defineSlot(n.gpt_path,i,n.dom_id);if(v.isarr(n.size_map)){var t=AdBridg.sizeMapping();v.each(n.size_map,function(e){t.addSize(e.viewport,r(e.sizes))}),t=t.build(),e.defineSizeMapping(t),AdBridg.useSizeMapping(e,t)}AdBridg.serve()}}for(var r=AdBridg.cmd.length;0<=r;r--){var i=AdBridg.cmd[r];i&&i.gpt_path&&AdBridg.cmd.splice(r,1,n(i))}t&&t.length&&(d=new u,v.each(t,function(e){if(e=parseInt(e,10),v.log("Preloading",e),e){var t=new g;if(b.configureUnit(t,e),!t.hasBidReqConf())return v.err("Preload bad id",e);c.push(e),d.addUnit(t)}}),d.hasUnit()&&(v.log("Preload kickoff",d),d.execute(v.wrapAsync(function(e){v.log("Preload complete"),s&&s(e)}))))}}});var pe=function(e){d.isDone()?e(d):s=e};b.afterConsent(function(){googletag.cmd.push(function(){v.log("Initializing. SRA is",(E?"enabled":"disabled")+"."),E&&(googletag.pubads().enableSingleRequest(),googletag.pubads().disableInitialLoad()),le()})}),v.wrapAsync(function(){for(AdBridg.cmd.push=AdBridg.cmd.unshift=function(t){if("function"==typeof b.libSettings().cmd_override)try{var e=b.libSettings().cmd_override(t);if(!e)return void v.log("AdBridg command cancelled",t);t=e}catch(e){v.err("CmdOverrideFail",e)}if("object"!=typeof t||(t.config&&(b.proc(t.config),delete t.config),!t.gpt_path&&t.events&&(v.each(t.events,function(e,t){_.on(t,e)}),delete t.events),t.action&&(v.log("Publisher event triggered: ","pub."+t.action),_.trigger("pub."+t.action),delete t.action),Object.getOwnPropertyNames(t).length))if(a){if("object"==typeof t&&(t.gpt_path||t.length))try{v.log("Initialization command object processing:",t);function n(i){googletag.cmd.push(function(){var n;if(i.oop)n=AdBridg.defineOutOfPageSlot(i.gpt_path,i.dom_id);else if((n=AdBridg.defineSlot(i.gpt_path,i.size||[1,1],i.dom_id))&&i.size_map){for(var e=AdBridg.sizeMapping(),t=0;t<i.size_map.length;t++)e=e.addSize(i.size_map[t].viewport,i.size_map[t].sizes);e=e.build(),n.defineSizeMapping(e),AdBridg.useSizeMapping(n,e)}if(n&&i.targeting&&v.each(i.targeting,function(e,t){n.setTargeting(t,e)}),n&&i.events){i.events["gpt.defined"]&&i.events["gpt.defined"](n);function r(t,e){i.events[t]&&googletag.pubads().addEventListener(e,function(e){e.slot===n&&i.events[t](n,e)})}r("gpt.rendered","slotRenderEnded"),r("gpt.viewed","impressionViewable"),r("gpt.visibilityChanged","slotVisibilityChanged")}n&&AdBridg.display(i.dom_id)})}if(t.length)for(var r=0;r<t.length;++r)n(t[r]);else n(t);t=function(){AdBridg.serve()}}catch(e){v.err("CmdObj fail",e)}"function"==typeof t&&setTimeout(function(){try{t.call()}catch(e){v.err("AdBridg.cmd had error: ",String(t).substr(0,30),e)}},0)}else o.push(t)};AdBridg.cmd.length;){var e=AdBridg.cmd.shift();AdBridg.cmd.push(e)}})()}}},{"../analytics.js":13,"../auction.js":14,"../config.js":15,"../modules.js":17,"../unit.js":25,"../utils.js":26}],17:[function(e,t,n){function r(e){o.push(e)}var i=e("./utils.js"),a={},o=[],s=["gpt.after_enable_services"],d={},c={},u={on:function(e,t){i.isarr(e)||(e=[e]),i.each(e,function(e){d[e]?t(e):(c[e]||(c[e]=[]),c[e].push(t))})}};n.trigger=i.wrapAsync(function(e){var t=arguments,n=(c[e]||[]).concat(c["*"]||[]);i.each(n,i.wrapAsync(function(e){e.apply(null,t)})),-1<s.indexOf(e)&&(d[e]=1)});var l=!1;i.onerr(i.wrapAsync(function(){if(l)return console&&console.log("AdBridg nested module errors"),void i.pixel("//adspsp.com/$CUSTOMER_PUBLIC_ID$/500/2/1/?e=errnest");l=!0,n.trigger("error",arguments),l=!1})),n.on=i.wrapAsync(function(e,t){u.on(e,t)}),n.setup=function(e){a=e};try{r(new(e("./modules/rhunt.js"))({},u)),r(new(e("./modules/lzest.js"))({},u)),r(new(e("./modules/gprog.js"))({bidders:{rubicon:{deal:"hb_deal_rubicon",adid:"hb_adid_rubicon"},ix:{deal:"hb_deal_ix",adid:"hb_adid_indexExchang"}}},u)),r(new(e("./modules/emit.js"))({"gpt.set_targeting":function(e,t,n){var r=(a.libSettings().pub||{}).abSegment;if(r){var i=!1;r.match("postTTI")?i=r.match("interactive")?"ab_pI":r.match("load")?"ab_pL":"ab_p0":r.match("mmrAb")&&(r.match("true")?i="ab_m1":r.match("false")&&(i="ab_m0")),i&&t.setImpData("hlAbSegment",i)}}},u)),r(new(e("./modules/amazon.js"))({allowed_sizes:["300x250","300x600","320x50","728x90","970x250"],load_apstag:!1,init:function(e){return e.pub||AdBridg.global("HLpubreport")||(AdBridg.global("HLpubreport",1),i.log("Healthline config not detected; using globals")),(e.pub?e.pub.skipGDPR:((__NEXT_DATA__||{}).query||{}).skipGDPR)||(window.initParams||{}).gdpr?((e.pub?!e.pub.sponsorship:!(((__NEXT_DATA__||{}).props||{}).adTargeting||{}).isSponsored)||"US"!==HL.c.countryCode)&&{skip_init:!0}:(i.log("Amazon/HL GDPR not set yet; skipping initialization request."),!1)}},u))}catch(e){i.err("Module failed",e)}},{"./modules/amazon.js":18,"./modules/emit.js":19,"./modules/gprog.js":20,"./modules/lzest.js":21,"./modules/rhunt.js":22,"./utils.js":26}],18:[function(e,t,n){var p=e("../utils.js"),a=e("../config.js"),f=(t.exports=function(s,e){function d(e){var r=[],i=s.allowed_sizes;return p.each(e,function(e,t){if(i&&-1==i.indexOf(e))return p.log("Amazon unsupported size: ",e);var n=e.split("x");n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10),r.push(n)}),r}var c={},u={},o={},t=!p.qs("adb_enable_amzn")&&s.test;"function"==typeof t&&(t=t());var n=s.load_apstag;"function"==typeof n&&(n=n());function l(){if(r)return t;var e=s.init;return"function"==typeof e&&(e=e(a.libSettings())),e?(r=!0,t?(p.log("Amazon disabled. Use ?adb_enable_amzn=1 to activate."),t):window.apstag?(e.skip_init||apstag.init(e),void p.log("Amazon initialized:",e)):(n||i||(p.err("Amazon library not found."),i=!0),t=!0)):(p.log("Amazon init bypassed."),!1)}var r=!1,i=!1;t||!n||f()||(t=r=!0),e.on("unit.config",function(e,t){if(!l()){var n=t.get("dom_id"),r=t.get("gpt_slot");if(!n||!r)return p.log("Amazon skip",n,r);var i=r.getAdUnitPath()+"",a=s.get_slot_name?s.get_slot_name(i,n,r,t):(i.match(/([^\/]+)$/)||[""])[0];if(!a)return p.err("Amazon noname: ",a,n,i);var o={slotID:n,slotName:a,sizes:u[n]||d(t.all_sizes)};c[n]=o,p.log("Amazon slot configured",o,!!u[n])}}),e.on("unit.restrict_sizes",function(e,t,n){if(!l()){var r=t.get("dom_id");n=d(n),u[r]=n;var i=c[r];return i?(p.log("Amazon slot resize",i,n),void(i.sizes=n)):void 0}}),e.on("gpt.destroy",function(e,t,n){l()||(p.log("Amazon slot remove",n),delete c[n],delete u[n])}),e.on("unit.pre_attach",function(e,t){if(!l()){var n=t.get("dom_id"),r=c[n];if(!r)return p.log("Amazon preload mismatch",n);var i=t.auction,a="amazon."+t.id;i.lock(a),apstag.fetchBids({slots:[r],timeout:i.max_ms},p.wrapAsync(function(){p.log("Amazon preload response",i.id,arguments);try{apstag.setDisplayBids()}catch(e){p.err("Amazon setBids",e)}i.unlock(a)}))}}),e.on("auction.start",function(e,t){if(!l()){var r=[];if(t.eachUnit(function(e){var t=e.get("dom_id"),n=c[t];n?(r.push(n),c[t]=null):p.log("Amazon no config",t)}),r.length){var n={slots:r,timeout:t.max_ms};p.log("Amazon request",t.id,n);var i="amazon."+t.id;o[i]=!0,t.lock(i);var a=setTimeout(p.wrapAsync(function(){o[i]&&(o[i]=!1,t.unlock(i),p.err("Amazon incomplete at 50"))}),t.max_ms+50);apstag.fetchBids(n,p.wrapAsync(function(){p.log("Amazon response",t.id,arguments);try{apstag.setDisplayBids()}catch(e){p.err("Amazon setBids",e)}clearTimeout(a),o[i]&&(o[i]=!1,t.unlock(i))}))}}})},function(){p.log("Loading Amazon dependency");try{n="apstag",r=window,t=document,r[n]||(r[n]={init:function(){e("i",arguments)},fetchBids:function(){e("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(i=t.createElement("script")).async=!0,i.src="//c.amazon-adsystem.com/aax2/apstag.js",(a=t.getElementsByTagName("script")[0]).parentNode.insertBefore(i,a))}catch(e){return p.err("Amazon load failed",e),!1}function e(e,t){r[n]._Q.push([e,t])}var n,r,t,i,a;return!0})},{"../config.js":15,"../utils.js":26}],19:[function(e,t,n){var r=e("../utils.js");t.exports=function(t,e){e.on("*",r.wrapAsync(function(e){t[e]&&t[e].apply(null,arguments)}))}},{"../utils.js":26}],20:[function(e,t,n){var p=e("../utils"),a=e("../config"),o=e("../analytics.js");t.exports=function(u,e){if(u.bidders){var n=a.libSettings();n.gpt_clear_kvps||(n.gpt_clear_kvps=[]),p.each(u.bidders,function(e,t){n.gpt_clear_kvps.push(e.deal),n.gpt_clear_kvps.push(e.adid)});var l={},r=p.wrapAsync(function(e,t){if(p.log("Gprog Deal Render Ad",t,l[t]),o.gprog(["render"]),l[t]){var n=l[t];AdBridg.render(e,n),l[t]=!1,o.gprog(["render2",{config:n.config.unit.alias,bidder:n.config.bidder_name,size:n.width+"x"+n.height,extras:n.extras}])}else p.err("GprogBadDealid",t)}),i=window.top;i.pbjs=i.pbjs||{},i.pbjs.renderAd=r,e.on("auction.complete",function(e,t){!i.pbjs.renderAd!==r&&(i.pbjs.renderAd=r),t.eachBidRequest(function(n,r){var i=r.bidder_name,e=u.bidders[i];if(e){var a=e.deal,o=e.adid,t=n.get("gpt_slot"),s=n.get("dom_id");if(t&&s&&a&&o){var d=[],c=[];p.each(r.responses,function(e){if(e.extras&&e.extras.dealid){var t=r.id;l[t]&&l[t].creative!=e.creative&&p.err("GprogOWcreative"),l[t]=e,d.push(e.extras.dealid),c.push(r.id),p.log("GprogDeal ("+i+"): ",n.alias,"/",s,a,"=",e.extras.dealid,";",o,"=",r.id)}}),d.length&&(n.settings.gprog=n.settings.gprog||{},n.settings.gprog[a]=d,n.settings.gprog[o]=c)}}})}),e.on("gpt.set_targeting",function(e,t,n){t.settings.gprog&&p.each(t.settings.gprog,function(e,t){n.setTargeting(t,n.getTargeting(t).concat(e)),o.gprog(["set",t])})})}}},{"../analytics.js":13,"../config":15,"../utils":26}],21:[function(e,t,n){var a=e("../utils");t.exports=function(e,t){var r={},n={},i=e.offset_distance?e.offset_distance:400;t.on("auction.start",function(e,t){t.eachUnit(function(e){var t=e.get("dom_id");if(!t)return a.err("LzEstNoDom",e.alias);r[t]="lzno",n[t]&&(a.logl("lz","LazyEst removing previous",t),a.undom(t,n[t])),n[t]=function(){a.logl("lz","LazyEst triggered",t),r[t]="lzyes"},a.logl("lz","LazyEst measurement",t,a.where(t)),a.dom(t,i,0,n[t])})}),t.on("gpt.set_targeting",function(e,t,n){t.setImpData("lz",r[t.get("dom_id")]||"lzna")})}},{"../utils":26}],22:[function(e,t,n){var c=e("../utils.js");t.exports=function(e,t){var n="_adbrh",r=n,i=c.qs("adb_rh");if("0"===i?c.cw(n,"",0):i&&c.cw(n,"1",365),c.cr(n)){c.log("RH ad creative history activated.");var a={dfp:[],adb:[]};try{(a=(a=localStorage.getItem(r))&&JSON.parse(a))&&a.dfp||(a={dfp:[],adb:[]})}catch(e){c.err("RH failed to load history from local storage")}function o(e,t){return{t:(new Date).toString(),d:c.url().domain,u:c.url().page,i:e.getSlotElementId(),s:e.getAdUnitPath(),e:t}}function s(e,t){var n=e.length-t;0<n&&e.splice(0,n),localStorage.setItem(r,JSON.stringify(a))}t.on("gpt.render_raw",function(e,t){var n={advertiserId:t.advertiserId,campaignId:t.campaignId,creativeId:t.creativeId,isEmpty:t.isEmpty,lineItemId:t.lineItemId,size:t.size,sourceAgnosticCreativeId:t.sourceAgnosticCreativeId,sourceAgnosticLineItemId:t.sourceAgnosticLineItemId};c.each(n,function(e,t){e||delete n[t]});var r=o(t.slot,n);a.dfp.push(r),s(a.dfp,20)}),t.on("bid.render",function(e,t){var n=o(t.config.unit.get("gpt_slot"),{config:t.config.unit.alias,bidder:t.config.bidder_name,bidderid:t.config.bidder_unit_id,extras:t.extras,ad:escape(t.creative)});a.adb.push(n),s(a.adb,20),c.rec(["RH",JSON.stringify(n)])});var d=document.createElement("DIV");d.style="display:block;cursor:pointer;position:fixed;z-index:99999999;top:5px;right:50%;padding:5px 20px;background:red;border:black;box-shadow:1px 2px 6px white;color:white;font-size:12px;",d.innerText="Ad History",d.addEventListener("click",function(){document.write("<button onclick=\"document.getElementById('debuginfo').select()\">Select All</button>&nbsp;|&nbsp;<button onclick=\"localStorage.removeItem('_adbrh');location.reload()\">Clear History</button>&nbsp;|&nbsp;<button onclick=\"location.reload()\">Refresh</button><br><textarea cols=100 rows=100 style='max-height:80%;max-width:80%' id='debuginfo'>"+JSON.stringify(a,null,2)+"</textarea>")}),document.body.appendChild(d)}}},{"../utils.js":26}],23:[function(e,t,n){var s=e("./utils.js");function r(e){var t=this,n=e.url,r=e.config,i=e.id,a=e.callback,o=e.loaded;this.url=n,this.config=r,this.handlers={},this.id=i,this.loaded=o,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):s.err("Commands given to Renderer.push must be wrapped in a function")},this.callback=a||function(){t.loaded=!0,t.process()},s.load(n,this.callback,!0)}r.install=function(e){return new r({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded})},r.prototype.getConfig=function(){return this.config},r.prototype.setRender=function(e){this.render=e},r.prototype.setEventHandlers=function(e){this.handlers=e},r.prototype.handleVideoEvent=function(e){var t=e.id,n=e.eventName;"function"==typeof this.handlers[n]&&this.handlers[n](),s.log("Prebid Renderer event for id "+t+" type "+n)},r.prototype.process=function(){for(;0<this.cmd.length;)try{this.cmd.shift().call()}catch(e){s.err("Error processing Renderer command: ",e)}},t.exports=r},{"./utils.js":26}],24:[function(e,t,n){function p(e){return 2===e.length?e:e.split("x").map(Number)}function f(e){var t="GET"===e.method&&("object"==typeof e.data?h.toqs(e.data,!0):e.data);return{method:e.method,url:"GET"===e.method&&t?[e.url,"?",t].join(""):e.url,withCredentials:!1!==(e.options&&e.options.withCredentials),parseResponseJson:void 0===e.parseResponseJson||e.parseResponseJson,data:"POST"===e.method&&("object"==typeof e.data?JSON.stringify(e.data):e.data),contentType:(e.options||{}).contentType}}function i(e,t){return["<style>",".native-wrap{text-decoration: none;color:#000;font-family:sans-serif;}",".native-image{border:0;margin-right:1em;max-width:",t.config.size.split("x")[0]>>2,"px;max-height:",t.config.size.split("x")[1],"px;width:auto;height:auto;float:left;}",".native-sponsor{font-size:x-small;text-align:center;text-transform:uppercase;margin-bottom:0.5em;}",".native-title{font-size:larger;font-weight:bold;margin-bottom:0.5em;}",".native-body{margin-bottom:0.5em;}",".native-body2{margin-bottom:0.5em;}",".native-icon{width:1.5em;vertical-align:middle;}",'</style><a class="native-wrap" href="',e.clickUrl,'">',(e.impressionTrackers||[]).map(function(e){return['<img src="',e,'" style="display:none">'].join("")}).join(""),'<img class="native-image" alt="',e.title,'" src="',e.image.url,'"><div class="native-sponsor">sponsored advertisement from ',e.icon?['<img class="native-icon" alt="',e.sponsoredBy,'" src="',e.icon.url,'"> '].join(""):"",e.sponsoredBy,"</div>",'<div class="native-title">',e.title,"</div>",'<div class="native-body">',e.body,"</div>",'<div class="native-body2">',e.body2,"</div>","</a>"].join("")}function g(e,t){return{creative:e.ad||(e.native?(n=e.native,((r=t).unit.settings&&r.unit.settings.nativeTemplate||i)(n,r)):void 0),vastUrl:e.vastUrl,vastXml:e.vastXml,cpm:e.cpm,width:e.native?0|t.config.size.split("x")[0]:e.width,height:e.native?0|t.config.size.split("x")[1]:e.height,extras:{dealid:e.dealId,crid:e.creativeId,adv_id:e.adv_id,brand_id:e.brand_id,mediaType:e.mediaType},render:e.renderer&&e.renderer.render&&e.renderer.render.bind(e.renderer,e),rawbid:e};var n,r}function r(e,t){var n=document.createElement("a");t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e);var r,i=t&&t.decodeSearchAsString;return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:i?n.search:(r=n.search||"")?r.replace(/^\?/,"").split("&").reduce(function(e,t){var n=t.split("="),r=n[0],i=n[1];return/\[\]$/.test(r)?(e[r=r.replace("[]","")]=e[r]||[],e[r].push(i)):e[r]=i||"",e},{}):{},hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}}var a,m=e("./ajax.js"),h=e("./utils.js"),o=e("./renderer.js"),v=(e("./adapterManager"),{auction:void 0,gdpr_consent_object:void 0}),b={getRefererInfo:function(){return{referer:h.url().href,stack:[h.url().href],reachedTop:window.top===window,numIframes:0|!(window.top===window)}},$$REPO_AND_VERSION$$:"master",utils:{isBoolean:function(e){},insertElement:function(e,t,n,r){var i=(t=t||document).getElementsByTagName(n||"head");i.length||(i=t.getElementsByTagName("body"));var a=i[0];if(a)return a.insertBefore(e,r?null:a.firstChild)},getDataFromLocalStorage:function(e){if(window.localStorage)return window.localStorage.getItem(e)},inIframe:function(){return!h.url().is_top},_map:function(n,r){if(!n)return[];if("function"==typeof n.map)return n.map(r);var i=[];return h.each(n,function(e,t){i.push(r(e,t,n))}),i},deepAccess:function(e,t){return t.split(".").reduce(function(e,t){return(e||{})[t]},e)},deepSetValue:function(e,t,i){return t.split(".").reduce(function(e,t,n,r){return n===r.length-1?e[t]=i:e[t]=e[t]||{}},e)},getTopWindowUrl:function(){return h.url().href},getWindowSelf:function(){return window.self},getWindowTop:function(){return window.top},isArray:function(e){return Array.isArray(e)},parseSizesInput:function(e){return e.map(function(e){return e.join("x")})},_each:h.each,cookiesAreEnabled:function(){return navigator.cookieEnabled},logError:h.err,logWarn:h.log,logMessage:h.log,logInfo:h.log,getBidIdParameter:function(e,t){return t&&t[e]||""},getUniqueIdentifierStr:(a=0,function(){return++a+Math.random().toString(16).substr(2)}),convertCamelToUnderscore:function(e){return e.replace(/(?:^|\.?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")},convertTypes:function(r,i){return h.each(r,function(e){var t=r[e],n=r[e];i[e]="function"==typeof t?n(n):"string"===t?n&&n.toString():"number"===t?Number(n):n,isNaN(i[e])&&delete i[e]}),i},createTrackPixelHtml:h.pixelh,isEmpty:function(e){if(!e)return!0;if(Array.isArray(e)||"string"==typeof e)return!e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},transformBidderParamKeywords:function(e){var r=[];return h.each(e,function(e,t){var n={key:t};Array.isArray(e)&&(n.value=e.map(function(e){return e+""})),null!=e&&(n.value=[e+""]),n.hasOwnProperty("value")&&r.push(n)}),r},tryAppendQueryString:function(e,t,n){return n?e+(t+"=")+encodeURIComponent(n)+"&":e},isStr:function(e){return"string"==typeof e},isEmptyStr:function(e){return""===e},assign:h.assign,isInteger:Number.isInteger||function(e){return Math.floor(e)===e&&isFinite(e)},isNumber:function(e){return"number"==typeof e},groupBy:function(e,n){return e.reduce(function(e,t){return(e[t[n]]=e[t[n]]||[]).push(t),e},{})},deepClone:function r(i){return Object.keys(i).reduce(function(e,t){var n={}.toString.call(i[t]).slice(8,-1);return e[t]="Array"===n||"Object"===n?r(i[t]):"Date"===n?new Date(i[t].getTime()):"RegExp"===n?new RegExp(i[t]):i[t],e},Array.isArray(i)?[]:{})},flatten:function(e,t){return e.concat(t)},chunk:function(e,r){return e.reduce(function(e,t,n){return n%r?e[e.length-1].push(t):e.push([t]),e},[])},fill:function(e,t){for(var n=[];n.length<t;n.push("object"==typeof e?b.utils.deepClone(e):e));return n},getMaxValueFromArray:Function.apply.bind(Math.max,0),getMinValueFromArray:Function.apply.bind(Math.min,0),isArrayOfNums:function(e,t){return e.length===(t||e.length)&&e.reduce(function(e,t){return e&&"number"==typeof t},!0)},generateUUID:h.genUUID,getBidRequest:function(n,e){return b.find(e,function(e){return e.bids.some(function(t){return["bidId","adId","bid_id"].some(function(e){return t[e]===n})})})},triggerPixel:function(e){h.uspi("S2S",e)},uniques:function(e,t,n){return n.indexOf(e)===t},contains:function(e,t){return 0<e.length&&-1!==e.indexOf(t)},getOrigin:function(){return h.url()},getDNT:function(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack},getCookie:h.cr,isGptPubadsDefined:function(){return window.googletag&&"function"==typeof window.googletag.pubads&&"function"==typeof window.googletag.pubads().getSlots},isSlotMatchingAdUnitCode:function(t){return function(e){return e.getAdUnitPath()===t||e.getSlotElementId()===t}}},verify:null,url:{type:0,parse:r,format:function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(b.url.formatQS(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")}},BANNER:"banner",VIDEO:"video",NATIVE:"native",ADPOD:"adpod",OUTSTREAM:"outstream",INSTREAM:"instream",config:{config:{},getConfig:function(e){switch(e){case"pageUrl":return h.url().href;case"bidderTimeout":return v.auction.max_ms;case"consentManagement.cmpApi":return v.gdpr_consent_object.cmpApi;default:return b.config.config[e]}},bidders:null,js:null,setDefaults:function(e){if("object"!=typeof defaults)return h.err("defaults must be an object");h.assign(b.config.config,e)}},parse:r,registerBidder:function(){},userSync:{registerSync:function(e,t,n){var r="image"===e||"img"===e?h.uspi:"iframe"===e?h.uspf:void 0;r?r(t,n):h.err(["Unknown sync type: ",e," from ",t].join(""))}},includes:function(e,t){return-1!==e.indexOf(t)},find:function(e,t){return e.filter(t)[0]},Renderer:o,loadExternalScript:function(e,t){h.log("module "+t+"is loading external JavaScript"),h.load(e,null,!0)},ajax:function(e,r,t,n){h.ajax(h.assign({},n,{data:t,url:e}),function(e,t,n){e&&r.error?r.error(e.err,e):r.success?r.success(t,n):r(t)})},getIabSubCategory:function(){return null},auctionManager:{getAdUnits:function(){return v.PBJSObjects.bidRequests}}};b.isArray=b.utils.isArray,b.isInteger=b.utils.isInteger,b.deepAccess=b.utils.deepAccess,t.exports={wrap:function(l){return function(s,d,c,u){this.execute=function(t){v.auction=t,v.gdpr_consent_object=u,v.alias=s;var e=function(s,e,d,c){var u=[];if(s.eachBidRequest(e,function(e,t){var n={};h.assign(n,d,t.params),delete n.adjust,"string"==typeof n.size&&n.size.match(/^\d+x\d+$/)&&(n.size=p(n.size)),n[c]=t.bidder_unit_id,n.bidFloor=t.min_cpm,n.bidfloor=t.min_cpm;var r=t.all_sizes.map(p),i=t.mediaTypes||e.settings&&e.settings.mediaTypes||{banner:{sizes:r}};i&&i.video&&(n.video||(n.video={}),h.assign(n.video,(i||{}).video));var a=h.genUUID(),o={pubcid:e.get("mod_pubcid")};u.push({adUnitCode:e.get("dom_id"),auctionId:s.id,bidId:t.id,bidder:t.bidder_name,bidderRequestId:t.id,crumbs:o,userId:o,mediaTypes:i,nativeParams:i.native||t.nativeParams,params:n,sizes:1===Object.keys(i).length&&i.native?[]:r,transactionID:a,transactionId:a,renderer:(e.settings||{}).renderer})}),0!==u.length)return u.forEach(function(e,t,n){e.bidRequestsCount=n.length}),{bidderRequest:{auctionId:s.id,auctionStart:s.jsts,bidderCode:e,bidderRequestId:u[0].bidderRequestId,bids:u,gdprConsent:v.gdpr_consent_object,start:s.start,timeout:s.max_ms,doneCbCallCount:0,refererInfo:{referer:h.url().href,stack:[h.url().href],reachedTop:window.top===window,numIframes:0|!(window.top===window)}},bidRequests:u}}(t,s,c,l.unitIDKey);v.PBJSObjects=e;var i=h.wrapAsync(l.spec.buildRequests,void 0,l.spec)(e.bidRequests,e.bidderRequest);Array.isArray(i)||(i=[i]);var n,r,a=[],o=(n=s,r={},t.eachBidRequest(n,function(e,t){r[t.id]={config:t,unit:e}}),r);i.map(f).forEach(function(e,r){e.max_ms=t.ajax_ms,m(e,h.wrapAsync(function(e,t){if(a.push(t),!e&&t){var n=h.wrapAsync(l.spec.interpretResponse,void 0,l.spec)({body:t},i[r]);Array.isArray(n)||(n=[n].filter(Boolean)),n.forEach(function(e){var t,n,r=o[e.requestId];if(!r)return h.err(["unrequested response from",s,":",JSON.stringify(e)].join(" "));t=e,n=r.config,t.ad||t.native||t.renderer||(t.vastUrl||t.vastXml)&&n.renderer?r.unit.addBid(r.config,g(e,r)):r.unit.addEmptyBid(r.config),r.found=!0})}a.length===i.length&&function(){Object.keys(o).map(function(e){return o[e]}).filter(function(e){return!e.found}).forEach(function(e){e.unit.addEmptyBid(e.config)});[].concat(l.spec.getUserSyncs&&h.wrapAsync(l.spec.getUserSyncs,void 0,l.spec)({syncEnabled:!0,pixelEnabled:!0,iframeEnabled:!0},a.map(function(e){return{body:e||{}}}))||[]).forEach(function(e){b.userSync.registerSync(e.type,d,e.url)})}()}))})}}},polyfills:b}},{"./adapterManager":1,"./ajax.js":12,"./renderer.js":23,"./utils.js":26}],25:[function(e,t,n){var k=e("./utils"),E=e("./analytics"),R=e("./modules"),j=e("./config");t.exports=function(e){this.id=0,this.alias="",this.size="",this.other_sizes=[],this.min_cpm=0,this.max_ms=0,this.settings={},this.unique_id=k.genID("U"),this.auction=!1,this.all_sizes=[],this.original_sizes=[];var _=this,u={},x={},l=0,r={},w=[],p={},i=!1,A=!1,t=!1,S=!1,f=!1,a=[];this.init=function(){e&&_.set(e)},this.restrictSizesTo=function(e){_.all_sizes=_.original_sizes,k.logl("sz","Unit",_.alias,"restrict sizes to",JSON.stringify(e)," old _allowed_sizes",JSON.stringify(f)),f=e,a.length&&_.allowSizes(a);for(var t=[],n=_.all_sizes.length-1;0<n;--n)if(-1===f.indexOf(_.all_sizes[n])){var r=_.all_sizes[n];_.all_sizes.splice(n,1);var i=_.other_sizes.indexOf(r);0<=i&&_.other_sizes.splice(i,1),t.push(r)}k.logl("sz","Unit",_.alias,"removed sizes",JSON.stringify(t),"allowed sizes",JSON.stringify(f)),R.trigger("unit.restrict_sizes",_,f,t)},this.allowSizes=function(e){a=[],k.each(e,function(e){k.logl("sz","Unit size added",_.alias,e),f&&-1==f.indexOf(e)&&f.push(e),-1==a.indexOf(e)&&a.push(e),-1==_.other_sizes.indexOf(e)&&_.other_sizes.push(e),-1==_.all_sizes.indexOf(e)&&_.all_sizes.push(e)}),k.logl("sz","Unit",_.alias,"allowed sizes",a),R.trigger("unit.allow_sizes",_,a)},this.configure=function(e){for(var t in e)"unique_id"!=t&&"auction"!=t&&("settings"!=t?_.hasOwnProperty(t)&&"function"!=typeof _[t]&&(_[t]=JSON.parse(JSON.stringify(e[t]))):k.each(e[t],function(e,t){_.settings[t]=e}));_.all_sizes=[_.size].concat(_.other_sizes),_.original_sizes=[].concat(_.all_sizes),k.logl("sz","Unit definition original_sizes=",JSON.stringify(_.original_sizes),"size=",JSON.stringify(_.size),"other_sizes=",JSON.stringify(_.other_sizes)),k.qs("adb_force_bidder")&&(_.min_cpm=0),R.trigger("unit.config",_)},this.addBidder=function(e,t){p[e]=t},this.eachBidder=function(e){for(var t in p)p.hasOwnProperty(t)&&u[t]&&e(t,p[t])},this.hasBidReqConf=function(){return 0<l},this.addBidReqConf=function(e,t,n){var r={id:k.genID("BR"),unit:_,adjust:1,bidder_name:e,bidder_id:t.bidder_id,bidder_unit_id:t.bidder_unit_id,min_cpm:_.min_cpm,size:_.size,other_sizes:_.other_sizes,all_sizes:[],responses:[],late_responses:[],test:t.test};if(p[e]){var i;for(i in _.settings)_.settings.hasOwnProperty(i)&&(r[i]=_.settings[i]);for(i in t.settings)t.settings.hasOwnProperty(i)&&(r[i]=t.settings[i]);for(i in p[e].settings)p[e].settings.hasOwnProperty(i)&&(r[i]=p[e].settings[i]);r.params={},k.assign(r.params,t.settings),1!=r.adjust&&(r.min_cpm=Number((r.min_cpm/r.adjust).toFixed(2)));var a=[],o=!1;if("function"==typeof t.mutate&&a.push({n:"BidReq",f:t.mutate}),"function"==typeof p[e].mutate&&a.push({n:"Bidder",f:p[e].mutate}),k.each(a,function(e){e.f(r,n)||(o=!0,k.log(e.n+" mutate rejected BR: ",r))}),!o)if(!r.test||k.qsab(e,r.bidder_id,!0)){if(t.settings.size?r.other_sizes=[]:"string"==typeof r.other_sizes&&(r.other_sizes=r.other_sizes?r.other_sizes.split(","):[]),f){var s=[];0<=f.indexOf(r.size)&&s.push(r.size);for(var d=0;d<r.other_sizes.length;++d){var c=r.other_sizes[d];0<=f.indexOf(c)&&s.push(c)}if(!s.length)return void(f.length&&k.log("Unit ",_.alias," skipped configuration for ",r.bidder_name," because it does not support any of these sizes: ",f));r.size=s[0],r.other_sizes=s.slice(1)}r.all_sizes=[r.size].concat(r.other_sizes),k.logl("sz","Bid request sizes:",r.all_sizes),u[e]||(u[e]=[]),u[e].push(r),x[r.id]=r,++l,R.trigger("unit.config_brc",_,r)}else k.log("Test configuration skipped: ",r)}else k.err("BR missing bidder",e)},this.eachBidReqConf=function(e,t){"function"==typeof e&&(t=e,e=!1),e?k.each(u[e],t):k.each(x,t)},this.getBidReqConf=function(e){return x[e]||!1},this.set=function(e,t){if("object"!=typeof e)r[e]=t;else for(var n in e)e.hasOwnProperty(n)&&_.set(n,e[n])},this.setImpData=function(e,t,n){var r=_.get("adb_imp_data")||{};r[e]=n&&r[e]||t,_.set("adb_imp_data",r)},this.get=function(e){return r[e]},this.halt=function(){A=!0},this.onReady=function(e){t=e,I()};var I=function(){S&&t&&setTimeout(function(){t(_)},0)};this.markEmpty=function(e){_.eachBidReqConf(e,function(e){e.responses.length||_.addEmptyBid(e)})},this.addEmptyBid=function(e){if("number"==typeof e||"string"==typeof e){var t=e;if(!(e=x[t]))return void k.err("Could not find bid req: ",t)}e.responses.length||A&&e.late_responses.length||_.addBid(e,{})};function z(e,t){return e._bid_cpm==t._bid_cpm&&e.width==t.width&&e.height==t.height&&e.creative==t.creative}this.addBid=function(e,t){if(!e||!_.getBidReqConf(e.id))return k.err("Bid request from ",e.bidder_name,"not found on unit",_.id),!1;var n=Number(parseFloat(t.cpm).toFixed(2))||0,r=Number(t.width)||0,i=Number(t.height)||0,a=t.creative||"",o=t.creative_url||"",s=t.extras||{},d=t.force||!1,c=t.render,u=t.vastUrl,l=t.vastXml,p=t.rawbid;n||(t.empty=!0);var f=Number((n*e.adjust).toFixed(2)),g=e.min_cpm;0<g&&f<g&&(f=0);var m=j.libSettings().pubchkcreativefn;a&&"function"==typeof m&&!m(e,t,j.libSettings())&&(k.log("Creative blocked: ",e.bidder_id,r,i,f,s),f=0);var h=k.dts(),v={id:_.id+"."+k.genID("B"),ms:Math.round(h-_.auction.ts),ts:h,config:e,viable:!A,cpm:f,_min_cpm:g,_bid_cpm:n,force:d,width:r,height:i,creative:a,creative_url:o,extras:s,render:c,vastUrl:u,vastXml:l,rawbid:p};if(function(e,t){var n;for(n=0;n<e.responses.length;++n)if(z(t,e.responses[n]))return!0;for(n=0;n<e.late_responses.length;++n)if(z(t,e.late_responses[n]))return!0;return!1}(e,v))return k.log("Unit ",_.alias,"ignored duplicate bid from ",e.bidder_name," on BR ",e.id,": ",v.ms,v.width+"x"+v.height,v.cpm.toFixed(2)),!1;var b=v.viable?"":"late ";if(!v.cpm&&0<v._bid_cpm){var y=1!=e.adjust?" * "+e.adjust+" = "+Number((v._bid_cpm*e.adjust).toFixed(2)):"";b+="below-floor ("+v._bid_cpm+y+" < "+v._min_cpm+") "}else t.empty&&(b+="empty ");return k.log("Unit ",_.alias,"got",b+"bid from ",e.bidder_name," on BR ",e.id,": ",v.ms,v.width+"x"+v.height,v.cpm.toFixed(2)),R.trigger("bid.ready",v),v.viable?(e.responses.push(v),w.push(v),function(){if(!A){for(var e in x){var t=x[e];if(t.responses&&!t.responses.length)return}S=!0,I()}}()):(e.late_responses.push(v),E.lateBid(v)),v},this.getWinner=function(){if(!i){"function"==typeof j.libSettings().filter_bid&&k.wrapAsync(j.libSettings().filter_bid),k.each(w,function(t){R.trigger("bid.auction_close_filter",_,t),t.blocked&&(t.cpm=0,k.log("Bid filtered out",_.alias,t.config.bidder_name,t.blocked));var e=t.width+"x"+t.height;if(t.cpm&&f&&f&&-1==f.indexOf(e))return k.log("Unit ",_.alias,"rejected",t.config.bidder_name,"invalid size",e),void k.err("U",_.id," B",t.config.bidder_id+"."+t.config.bidder_unit_id,e,f);var n=t.cpm&&(!i||t.cpm>i.cpm||t.cpm==i.cpm&&.5<Math.random());if(i&&i.force&&(n=!1),t.force||n){i=t;try{function r(e){"string"==typeof t[e]&&(t[e]=t[e].replace(/\$\{AUCTION_PRICE\}/g,t.cpm))}r("creative"),r("creative_url")}catch(e){k.err("Macro failed: ",e)}}}),i&&(k.log("Unit ",_.alias,"set winner to ",i.config.bidder_name,i.width+"x"+i.height,i.cpm.toFixed(2)),R.trigger("bid.auction_winner",i))}return i},this.init()}},{"./analytics":13,"./config":15,"./modules":17,"./utils":26}],26:[function(e,t,f){var r;f.wrapAsync=function(e,t,n){return function(){try{return e.apply(n||this,arguments)}catch(e){t?t(e):f.err("Caught AsyncErr: ",e)}}},f.thread=function(t){return t=f.wrapAsync(t),function(){var e=arguments;setTimeout(function(){t.apply(this,e)},0)}},f.attempt=function(e,t){try{return e()}catch(e){}return t};function i(e){return{loading:1,interactive:2,complete:3}[e=e||document.readyState]||0}var n=1,a=(new Date).getTime(),o=function(){try{a-=Math.round(performance.now()),o=function(){return i()+"T"+Math.round(performance.now()).toString(36)},r=[n,a.toString(36),o()]}catch(e){o=function(){return i()+"T"+Math.max(0,(new Date).getTime()-a).toString(36)},r=[n=0,a.toString(36),i()+"T0"]}};o();function g(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n),n}g(document,"readystatechange",function(){var e,t,n;3==i()&&(e=document,t="readystatechange",n=arguments.callee,e.removeEventListener?e.removeEventListener(t,n):e.detachEvent&&e.detachEvent("on"+t,n)),r.push(o())}),f.perfts=function(){return o()},f.pgts=function(){return r},f.dts=function(){return n?Number(performance.now().toFixed(2)):Number(Math.max(0,(new Date).getTime()-a).toFixed(2))};var s=0;f.genID=function(e){return(e||"")+ ++s+Math.random().toString(16).substr(2)},f.vp=function(){var e,t,n,r=document;try{e=window.innerWidth,t=window.innerHeight,n=window.pageYOffset}catch(e){}return{w:e||(r.documentElement&&r.documentElement.clientWidth||r.body&&r.body.clientWidth)||0,h:t||(r.documentElement&&r.documentElement.clientHeight||r.body&&r.body.clientHeight)||0,y:n||r.body&&r.body.scrollTop||0}},f.cr=function(e){var t=String(document.cookie).match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return t=t?decodeURIComponent(t[2]):""},f.cw=function(e,t,n){exp_string=0<(n=n||1)?"max-age="+86400*n:"max-age=-99999";var r=e+"="+encodeURIComponent(t)+";"+exp_string+";path=/;domain="+window.location.hostname.replace(/.*?([^.]+\.[^.]+)$/,"$1");document.cookie=r};try{var d="adbct";f.cw(d,1),f.cookies=!!f.cr(d),f.cw(d,"",-1)}catch(e){}try{f.safari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}catch(e){}f.https=!("https:"!=location.protocol),f.genUUID=function(e){try{return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,f.genUUID)}catch(e){return 0}},f.qs=function(e){var t=new RegExp(e+"=([^&]+)");return(String(window.location.search).match(t)||[]).pop()};var c=f.qs("adb_force_bidder"),u=f.qs("adb_allow_bidder"),l=[];c&&"*"!=c&&(l=l.concat(c.split(","))),u&&"*"!=u&&(l=l.concat(u.split(","))),f.qsab=function(e,t,n){return t=String(t),"*"==u||"*"==c||(n?0<=l.indexOf(t)||0<=l.indexOf(e):!c||(0<=l.indexOf(t)||0<=l.indexOf(e)))},f.qsappend=function(e,t,n,r){return r&&!t?"":(n&&(t=encodeURIComponent(t)),"&"+e+"="+t)},f.toqs=function(e,n){var r="";return f.each(e,function(e,t){f.isarr(e)?f.each(e,function(e){r+=f.qsappend(t+"[]",e,n)}):r+=f.qsappend(t,e,n)}),r.replace(/^\&/,"")},f.each=function(e,t){if(e&&0!==e.length)if(e.length)for(var n=0;n<e.length;++n)t(e[n],n);else for(var r in e)e.hasOwnProperty(r)&&t(e[r],r)},f.resize_element=function(e,t,n){e.style.width&&String(e.style.width).replace("px","")!=t&&(e.style.width=t+"px"),e.style.height&&String(e.style.height).replace("px","")!=n&&(e.style.height=n+"px"),e.getAttribute("width")&&e.getAttribute("width")!=t&&e.setAttribute("width",t),e.getAttribute("height")&&e.getAttribute("height")!=n&&e.setAttribute("height",n)},f.resize_iframe=function(e,t,n,r){try{for(var i=e.document.getElementsByTagName("iframe")||[],a=0;a<i.length;++a)try{if(i[a].contentDocument===t)return f.resize_element(i[a],n,r),void(e!==top&&f.resize_iframe(e.parent,e.document,n,r))}catch(e){}}catch(e){f.err("Error resizing window to "+n+"x"+r,e)}f.err("Failed to resize window to "+n+"x"+r)},f.url=function(){var t,n,r,i,a,e=top,o=window,s=document,d=!1;try{d=window.parent===window}catch(e){}try{t=e.location.host,n=e.location.pathname+e.location.search+e.location.hash,href=e.location.href,r=e.document.referrer,i=e.document.title,a=e.location.protocol}catch(e){try{t=(String(s.referrer).match(/^[^\/]+\/\/([^\/]+)/)||[]).pop(),n=(String(s.referrer).match(/^[^\/]+\/\/[^\/]+(\/.+)$/)||[]).pop(),a=(String(s.referrer).match(/^https?\:/)||[]).pop(),href=s.referrer,i=r=""}catch(e){}}return t&&n||(t=o.location.host,n=o.location.pathname+o.location.search+o.location.hash,a=o.location.protocol,href=o.location.href,r=s.referrer),{domain:t,page:n,href:href,referrer:r,title:i,is_top:d,protocol:a}},f.pixel=function(e){document.createElement("img").src=e+"&rnd="+Math.random()},f.pixelh=function(e){return e?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;"><img src="'+encodeURI(e)+'"></div>':""},f.pixelf=function(e,t,n){return e?(t&&(e=encodeURI(e)),"<iframe "+(n=n?'sandbox="'+n+'"':"")+' id="'+f.genID("IPF")+'" src="'+e+'" frameborder="0" allowtransparency="true" marginheight="0" marginwidth="0" width="0" hspace="0" vspace="0" height="0" style="height:0p;width:0p;display:none;" scrolling="no"></iframe>'):""};var p,m=[],h={};f.uspf=f.wrapAsync(function(e,t){f.logl("px","UserSync qF",e,h[e],5,t),h[e]=(h[e]||0)+1,5<h[e]||m.push({a:e,t:"f",u:t})}),f.uspi=f.wrapAsync(function(e,t){f.logl("px","UserSync qI",e,h[e],5,t),h[e]=(h[e]||0)+1,5<h[e]||m.push({a:e,t:"i",u:t})});var v=!0,b=!0,y=500;f.cfusp=function(e,t,n){e||(v=!1),t||(b=!1),n&&(y=n),f.log("UserSync set: ",{image:v,iframe:b,delay:y})};var _=f.wrapAsync(function(){if(clearTimeout(p),m.length){var e=Math.floor(Math.random()*m.length),t=m[e];if(m.splice(e,1),b&&"f"==t.t){var n=document.createElement("div");n.innerHTML=f.pixelf(t.u,!1,"allow-scripts allow-same-origin"),document.body.appendChild(n.firstChild),f.log("UserSync (F): ",t.a,t.u)}else{if(!v||"i"!=t.t)return f.log("UserSync not sent (!): ",t),_();document.createElement("img").src=t.u,f.log("UserSync (I): ",t.a,t.u)}p=setTimeout(_,50)}});f.qdusp=function(){f.logl("px","UserSync Q",m,y,v,b,f.safari,f.cookies),!f.safari&&f.cookies&&(clearTimeout(p),p=setTimeout(_,y))};var x={};f.load=function(e,t,n,r){if(t=t?f.wrapAsync(t):function(){},n&&x[e])x[e].ready?t():x[e].cbs.push(t);else{n&&(x[e]||(x[e]={ready:!1,cbs:[t]}),t=function(){x[e].ready=!0,f.each(x[e].cbs,function(e){e()})});var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.readyState?i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(i.onreadystatechange=null,t())}:i.onload=t,i.src=e;var a=r||(document.body||document.head);a.appendChild(i,a.firstChild)}},f.loadCached=function(e,t){f.load(e,t,!0)},f.iiframe=function(e){var t=document.createElement("iframe");return t.id=f.genID("IIF"),t.height=0,t.width=0,t.border="0px",t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.border="0",t.scrolling="no",t.frameBorder="0",t.src=void 0===e?"about:blank":e,t.style.display="none",t},f.prepend=function(e,t){return"string"==typeof t&&(t=document.createElement(t)),e.children.length?e.insertBefore(t,e.children[0]):e.appendChild(t),t};var w=!(f.isarr=function(e){return"[object Array]"===Object.prototype.toString.call(e)});f.isdebug=function(){return w},f.setdebug=function(e){e&&(w=e,document.cookie="adb_debug="+w+";path=/;domain=."+location.hostname.replace(/.*?([^.]+\.[^.]+)$/,"$1"))},f.setdebug(f.qs("adb_debug")||f.cr("adb_debug")),f.log=function(){if(w){var e=Array.prototype.slice.apply(arguments);e.unshift("AdBridg | "+f.dts().toFixed(2));try{console.log.apply(console,e)}catch(e){}}},f.logl=function(e){w==e&&f.log.apply(f,["log::",e].concat(Array.prototype.slice.apply(arguments,[1])))};var A=[];f.err=function(){var t=Array.prototype.slice.apply(arguments);if(w){var e=[].concat(t);e.unshift("AdBridg | "+f.dts().toFixed(2)+" | ERROR: ");try{console.log.apply(console,e)}catch(e){}}A.length&&f.each(A,function(e){e.apply(null,t)})};var S=!(f.onerr=function(e){A.push(e)}),I=[];f.onrec=function(e){for(S=e;I.length;)S(I.shift())},f.rec=function(e){S?S(e):I.push(e)},f.dom=f.wrapAsync(function(e,t,n,r,i,a){z.add(e,t,n,r,i,a)}),f.undom=f.wrapAsync(function(e,t){z.remove(e,t)}),f.lzrescan=f.wrapAsync(function(){z.rescan()});var z=new function(){var n,s={},d=0,c=[],r=!1,i=!1,u=!1;this.add=function(e,t,n,r,i,a){s[e]=s[e]||[],s[e].push({c:r,d:t,t:n,i:e,f:i,x:a}),d+=1,p()},this.remove=function(e,t){var n,r=s[e]||[];if(t)for(n=r.length-1;0<=n;--n)r[n].c===t&&s[e].splice(n,1);for(t&&r.length||delete s[e],n=c.length-1;0<=n;--n)t&&c[n].c!==t||c.splice(n,1)},this.rescan=function(){f.logl("lz","Lazy explicit rescan"),n=setTimeout(p,0)},g(window,"scroll",function(){u=!0,!n&&d&&(f.logl("lz","Lazy scroll wait",100),n=setTimeout(p,100))});function l(e,t){if(e.f&&!e.f(e,t,u))return f.logl("lz","Lazy blocked",e,u),!1;if(!t.v){if(!e.x)return f.logl("lz","Lazy cannot measure el",e,t),!1;var n=document.getElementById(e.i);if(!n)return f.logl("lz","Lazy collapse check - cannot read el",e,t),!1;var r=(n||{}).parentNode;if(!r)return f.logl("lz","Lazy collapse check - cannot read parent",e,t),!1;var i=f.where(r);if(!i.v)return f.logl("lz","Lazy collapse check - parent invis",e,t,i),!1;var a=document.createElement("span");a.style="position:absolute;display:block;width:1px;height:1px;",r.insertBefore(a,n);var o=f.where(a);r.removeChild(a),f.logl("lz","Lazy collapse check - using replacement coords",JSON.stringify({coords:t,replacement:o})),t=o}return 0<e.d&&e.d<1?t.v>e.d:t.d<=e.d}var p=f.thread(function(){var e=f.dts();if(clearTimeout(n),n=!1,r||e-i<50)n=setTimeout(p,50);else{var o;r=!0,i=e,f.logl("lz","Lazy measure",e),o=[],f.each(s,function(e,t){var n=f.where(t);if(!n)return f.logl("lz","Lazy no dom",t);for(var r=e.length-1;0<=r;--r){var i=e[r],a=l(i,n);f.logl("lz","Lazy check",JSON.stringify({el:t,coords:n,reqdist:i.d,criteria:a,seenscr:u})),a&&(--d,e.splice(r,1),c.push(i),f.logl("lz","Lazy to duration",t))}e.length||o.push(t)}),f.each(o,function(e){delete s[e]});var t=function(e){for(var t=!1,n=c.length-1;0<=n;--n){var r=c[n],i=r.i;if(f.logl("lz","Lazy check time",r,i," has scroll event: ",u),r.tx){if(!l(r,f.where(i))){f.logl("lz","Lazy back to distance",i),r.tx=0,c.splice(n,1),s[i]=s[i]||[],s[i].push(r),d+=1;continue}}else r.tx=e+r.t;var a=r.tx-e;a<=0?(f.logl("lz","Lazy execute",i),c.splice(n,1),f.thread(r.c)()):t=t?Math.min(1+a,t):1+a}return t}(e)||100;c.length&&(f.logl("lz","Lazy duration wait",t),n=setTimeout(p,t)),r=!1}})};f.where=function(e){if("string"==typeof e&&(e=document.getElementById(e)),!e)return!1;var t=e.getBoundingClientRect(),n=f.vp(),r=t.top,i=t.height,a=t.top+i,o="in_viewport",s=0,d=1,c=k(e);return c&&(d=0,o="unknown"),r<0?(s=a<0?Math.abs(a):0,o=((d=0<a?a/i:0)?"partially_":"")+"above_viewport"):a>n.h&&(s=r>n.h?r-n.h:0,o=((d=r<n.h?(n.h-r)/i:0)?"partially_":"")+"below_viewport"),{i:c,p:o,d:s,v:d,c:{vp:n,t:r,h:i,b:a}}},f.assign=function(e){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t};var k=function(e){try{if(!e)return"no_dom_el";var t=window.getComputedStyle&&window.getComputedStyle(e)||{};if("none"==t.display)return"display_none";if("hidden"==t.visibility)return"vis_hidden"}catch(e){f.err("get_invis_fail")}return!1};f.dom_invisible=f.wrapAsync(function(e){var t=document.getElementById(e),n=k(t);if(n)return"el_"+n;for(var r=0;t.parentNode&&(t=t.parentNode)!==document.body;)if(r+=1,n=k(t))return"anc_"+r+"_"+n;return!1})},{}]},{},[16]);