(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{102:function(e,t,o){"use strict";o.d(t,"a",(function(){return l})),o.d(t,"c",(function(){return d})),o.d(t,"b",(function(){return h}));var n=o(62),i=o(94),s=o(67),a=o(6),r=o(10),c=o(37);function l(e){const{marketplaceDrivers:t}=Object(a.b)(),o=t&&t.find(({driverType:e})=>"2ndPagePopup"===e);if(o){const t=o.lists;if(t){const o=[].concat(e);for(let n=0;n<t.length;n++)e.includes(t[n])||o.push(t[n]);return o}}return e}function d({email:e,source:t,campaignTracker:o,lists:l,profileData:d}){Object(r.a)({subscribe:"Newsletter Subscribe",email:e});const{targeting:h={},newsletter:{categories:u="",tags:p=""}={}}=Object(a.b)();return Object(i.a)("newsletterSubscribe").then(i=>{const{url:a}=h;return"mockSuccess@email.com"===e?{}:(l.forEach(e=>{Object(c.b)("newsletter.subscribe",{source:t,campaignTracker:o,list:e})}),Object(n.a)(`${s.a.activationHost}/api/activate/site`,{data:{site:"hl",customTc:o||t,email:e,lists:l,recaptcha:i,path:a,attributes:d,identifiers:{K1:h&&h.k1,source:t,categories:u,tags:p}},method:"POST",credentials:"include"}).then(({data:e})=>{try{window.sessionStorage.setItem("apSessionId",e)}catch(e){0}return{}}))}).catch(e=>(Object(c.b)("newsletter.subscribe.error",{source:t,campaignTracker:o}),{error:e&&e.data||e}))}function h(e){return Object(n.a)(s.a.marketplaceAPI,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},data:e}).then(e=>e.data).catch(e=>({error:e&&e.data||e}))}},136:function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));var n=o(2).h;function i({message:e}){return n("div",{css:"margin-top:15;margin-bottom:15;display:flex;align-items:center;color:red;font-size:17;"},n("div",{className:"icon-hl-circle-alert",css:"display:flex;align-items:center;margin-top:-3px;"}),n("div",{css:"margin-left:10;"},e||"We're sorry — there's a problem on our end. Please try again shortly"))}},145:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return b}));var n=o(1),i=o(128),s=o.n(i),a=o(0),r=o(554),c=o.n(r),l=(o(5),o(14)),d=o(18),h=o(78),u=o(2).h;const p={modalWrapper:Object(a.a)("align-items:flex-start;display:flex;justify-content:center;max-height:100%;pointer-events:none;position:relative;max-width:[100%|90vw];width:[100%|770];overflow:hidden;"),backdrop:Object(a.a)(l.i,{background:"rgba(0, 0, 0, 0.65)",bottom:0,cursor:"pointer",display:"block",left:0,opacity:0,position:"fixed",right:0,top:0,transition:Object(h.b)("opacity",350),width:"100%"}),modalWindow:Object(a.a)({"&::before":{bottom:0,content:'""',display:"block",left:0,pointerEvents:"none",position:"absolute",right:0,top:0},background:"white",margin:["0","60px 10px"],opacity:0,pointerEvents:"none",position:["fixed","relative"],transform:"scale(.96, .96)",transformOrigin:"50% 200px",transition:`${Object(h.b)("opacity")}, ${Object(h.b)("transform")}`,width:"100%",top:0,left:0,height:"100%",minHeight:["100%",380]}),closeButton:Object(a.a)("&::before{align-items:center;bottom:0;display:flex;font-size:16;justify-content:center;left:0;line-height:14px;position:absolute;right:0;top:0;}background:none;border:none;color:gray-dark;height:64;width:64;position:absolute;right:0;top:0;padding:0;cursor:pointer;z-index:1;"),modal:Object(a.a)({color:"text-black",alignItems:"center",bottom:60,display:"flex",justifyContent:"center",left:0,overflow:"auto",WebkitOverflowScrolling:"touch",pointerEvents:"none",position:"fixed",right:0,top:0,maxWidth:"100vw",zIndex:500,"&.no-hash":{opacity:1,pointerEvents:"auto","& .backdrop":{opacity:1,transition:"opacity 0ms"},"& .window":{opacity:1,pointerEvents:"auto",transform:"none",transition:`opacity 0ms, ${Object(h.a)("transform")}`}}})};class b extends n.Component{constructor(...e){super(...e),this.state={},this.close=()=>{document.body.style.overflow="auto";const{onClose:e}=this.props;this.setState({transitioning:!0}),setTimeout(()=>{e&&e()},350)},this.handleCloseButtonClick=()=>{this.close(),this.modalCloseButtonRef.blur()}}componentDidMount(){document.body.style.overflow="hidden",setTimeout(()=>{this.setState({transitioning:!1})},10)}render(){const{className:e,render:t,omitCloseButton:o,disableCloseOnEscape:n,disableCloseOnClickBackdrop:i}=this.props,{transitioning:r}=this.state,l=()=>u("button",{type:"button",ref:e=>{this.modalCloseButtonRef=e},className:"icon-hl-close window-close-button",css:[d.c,p.closeButton],onClick:this.handleCloseButtonClick}),h=u("div",{className:r?"":"no-hash",css:[p.modal,e]},u("button",{type:"button",className:"backdrop",css:Object(a.b)(p.backdrop,Object(a.a)({cursor:i?"default":"cursor"})),onClick:()=>!i&&this.close(),tabIndex:"-1"}),u("div",{className:`window-wrapper ${p.modalWrapper}`},u("div",{className:"window",css:p.modalWindow},!o&&l(),t({closeButton:l,close:this.close}))));return s.a.createPortal(n?h:u(c.a,{onEscape:this.close},h),document.querySelector("#modal-host"))}}},154:function(e,t,o){"use strict";o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return c}));var n=o(62),i=o(94),s=o(10),a=o(102);function r(e,t){return Object(s.a)({feedback_event:e.trackingTypeLabel,name:e.yourName,email:e.yourEmail}),Object(i.a)("feedback").then(t=>Object(n.a)("/api/feedback",{data:{recaptcha:t,...e},method:"POST"})).then(o=>(t&&Object(a.c)({email:e.yourEmail,source:"feedback_widget",lists:["Wellness Wire"]}),o.data)).catch(e=>e.data)}function c(e){return Object(i.a)("feedback").then(t=>Object(n.a)("/api/feedback-survey",{data:{recaptcha:t,...e},method:"POST"})).then(e=>e.data).catch(e=>e.data)}},554:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(1),s=(a(i),a(o(5)));function a(e){return e&&e.__esModule?e:{default:e}}var r=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onEscape=e.onEscape.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"onEscape",value:function(e){27===e.keyCode&&this.props.onEscape()}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onEscape)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onEscape)}},{key:"render",value:function(){return this.props.children}}]),t}(i.Component);t.default=r,r.propTypes={onEscape:s.default.func.isRequired}},576:function(e,t,o){"use strict";o.r(t);var n=o(0),i=o(1),s=o(10),a=o(6),r=o(154),c=(o(5),o(14)),l=o(136),d=o(3),h=o(25),u=o(2).h;const p={width:"100%",padding:"12px !important"},b=Object(n.a)({...d.a.font.bodyFontSemiBold,fontSize:16,lineHeight:"20px",height:50,width:["100%",300]}),m="Healthline";var g={marginTop:10,color:"gray-dark"};function f({handleSubmit:e,handleInputChange:t,hasError:o,isLoading:n,formValues:{score:i,whyScore:s},handleGoBackClick:a,isMobile:r}){return u("form",{onSubmit:e,css:d.a.utils.marginHero},o&&u(l.a),u(c.e,{disabled:n},u("p",{css:"font-weight:bold;"},"Tell us why you chose",` ${i}`),u(c.g,{css:p,"data-type":"text",disabled:n,maxLength:"1500",name:"whyScore",onChange:t,value:s,placeholder:"Optional"}),u(c.d,{css:g},"Note:"," ",m," ","isn’t a healthcare provider. We can’t respond to health questions or give you medical advice.")),u("p",{css:"text-align:center;"},u(h.b,{css:b,title:"SUBMIT",loading:n})),r&&u("p",{css:"text-align:center;margin-top:20;"},u("a",{css:{...d.a.font.bodyFontSemiBold,color:"gray-dark",textDecoration:"none",fontSize:16,lineHeight:"20px"},href:"#",onClick:a},"GO BACK")))}var k=o(20),y=o(2).h;const v=e=>{const t=e||{};return y(h.b,{...t,css:"&:hover{color:white;}height:60;width:54;min-width:54;padding:0;border-width:1;border-left-width:0;font-size:16;margin-bottom:10;outline-color:#dcdbdb;border-color:#dcdbdb;color:cyan;background:white;"})},w=Object(n.a)("&::before{align-items:center;bottom:0;display:flex;font-size:16;justify-content:center;left:0;line-height:14px;position:absolute;right:0;top:0;}background:none;border:none;color:gray-dark;height:64;width:64;position:absolute;right:0;top:0;padding:0;cursor:pointer;z-index:1;"),C="cyan",x="Healthline";var S={fontSize:14,lineHeight:"20px",color:"gray-dark"},O={fontSize:14,lineHeight:"20px",color:"gray-dark"};class j extends i.Component{render(){const{handleButtonClick:e,handleClose:t,isForm:o,formValues:n,handleInputChange:i,isLoading:s,handleSubmit:a,handleGoBackClick:r,hasError:c,selectedButton:l}=this.props,d=[];for(let e=0;e<11;e+=1)d.push(e);const h=[46,53,46,61];return y(k.b,{render:({currentBreakpoint:u})=>y("div",{css:"position:relative;padding:40;"},y("div",null,y("button",{type:"button",className:"icon-hl-close window-close-button",css:w,onClick:e=>{e.preventDefault(),t()}})),y("h4",{css:"margin-top:0;"},"Based on this experience, how likely are you to recommend",` ${x}`," ","to a friend or family member?"),y("ul",{css:"display:flex;justify-content:center;list-style:none;margin:0;padding:0;"},d.map(t=>y("li",{key:`item-button-${t}`},y(v,{title:`${t}`,onClick:()=>e(t),css:{color:t===l?"white":C,backgroundColor:t===l?C:"white",width:h[u],minWidth:h[u],borderLeftWidth:0===t?1:0}})))),y("div",{css:"display:flex;justify-content:space-between;"},y("div",{css:S},"Not at all likely"),y("div",{css:O},"Extremely likely")),o&&y(f,{formValues:n,handleInputChange:i,isLoading:s,handleSubmit:a,handleGoBackClick:r,hasError:c}))})}}var E=o(13),B=o(2).h;const P=!1,T=Object(E.a)(()=>new(o(23).default)((e,t)=>{Promise.resolve().then((n=>{try{let t=o(145);e(t)}catch(e){t(e)}}).bind(null,o)).catch(t)}),{name:"modal"}),I=e=>{const t=e||{};return B(h.b,{...t,css:"height:40;width:100%;padding:0;border-width:1;font-size:16;margin-bottom:0;outline-color:#dcdbdb;border-color:#dcdbdb;color:teal;background:white;"})},L=Object(n.a)("position:relative;background-color:gold-lightest;padding:20;"),N=Object(n.a)("position:absolute;width:230;height:205;top:0;left:0;background-image:url('https://images-prod.healthline.com/hlcmsresource/images/user-survey/expanded-top-corner-asset@2x.png');background-position:left;background-repeat:no-repeat;background-size:230px 205px;pointer-events:none;"),$=Object(n.a)("position:absolute;width:265;height:268;bottom:0;right:0;background-image:url('https://images-prod.healthline.com/hlcmsresource/images/user-survey/expanded-bottom-corner-asset@2x.png');background-position:right;background-repeat:no-repeat;background-size:265px 268px;pointer-events:none;"),M="cyan",z="Healthline";class V extends i.Component{render(){const{handleButtonClick:e,handleClose:t,isForm:o,formValues:n,handleInputChange:i,isLoading:s,handleSubmit:a,handleGoBackClick:r,hasError:c,isMobile:l,selectedButton:d}=this.props,h=[];for(let e=9;e>0;e-=1)h.push(e);return B(T,{onClose:t,render:()=>B("div",{css:L},!P&&B("div",{css:N}),!P&&B("div",{css:$}),o?B("div",{css:"position:relative;"},B(f,{formValues:n,handleInputChange:i,isLoading:s,handleSubmit:a,handleGoBackClick:r,hasError:c,isMobile:l})):B("div",{css:"position:relative;"},B("p",{css:"font-weight:bold;"},"Based on this experience, how likely are you to recommend",` ${z}`," ","to a friend or family member?"),B("ul",{css:"display:block;list-style:none;margin:0;padding:0;"},B("li",null,B(I,{title:"10 - EXTREMELY LIKELY",onClick:()=>e(10),css:{color:10===d?"white":M,backgroundColor:10===d?M:"white"}})),h.map(t=>B("li",{key:`item-button-${t}`},B(I,{title:`${t}`,onClick:()=>e(t),css:{color:t===d?"white":M,backgroundColor:t===d?M:"white"}}))),B("li",null,B(I,{key:"button0",title:"0 - NOT AT ALL LIKELY",onClick:()=>e(0),css:{color:0===d?"white":M,backgroundColor:0===d?M:"white"}})))))})}}var D=o(2).h;const W={isLoading:!1,selectedButton:void 0,hasError:!1,isForm:!1,formValues:{score:void 0,whyScore:""}};class _ extends i.Component{constructor(e){super(e),this.sendData=(e,t)=>{const{imuid:o,targeting:{articleId:n}}=Object(a.b)(),{formValues:{whyScore:i}}=this.state;return Object(r.b)({imuid:o,mainQuestion:i,score:e,contentId:n,ratingType:t?"submit":"click"}).then(({feedbackResp:o})=>{const n=o&&o.meta&&200===o.meta.code;t&&this.setState({isLoading:!1,hasError:o&&!!o.error}),n&&t&&(Object(s.a)({tNPS_event:`rating submit click - # (${e})`}),Object(s.f)(`|tNPS survey - ${this.props.placement}|rating submit click - ${e}`),this.handleClose(!0))})},this.handleInputChange=({target:{name:e,value:t}})=>this.setState(({formValues:o})=>({formValues:Object.assign(o,{[e]:t})})),this.handleButtonClick=e=>{Object(s.f)(`|tNPS survey - ${this.props.placement}|rating click - ${e}`),this.setState({selectedButton:e,formValues:{score:e},isForm:!0}),this.sendData(e)},this.handleSubmit=e=>{e.preventDefault(),this.setState({isLoading:!0});const{formValues:{score:t}}=this.state;this.sendData(t,!0)},this.handleGoBackClick=e=>{e.preventDefault(),this.reset()},this.handleClose=e=>{this.reset(),this.props.onClose(e)},this.state=W}reset(){this.setState(W)}render(){const{formValues:e,isForm:t,isLoading:o,hasError:n,selectedButton:i}=this.state;return this.props.isModal?D(V,{handleButtonClick:this.handleButtonClick,handleClose:this.handleClose,isForm:t,formValues:e,handleInputChange:this.handleInputChange,isLoading:o,handleSubmit:this.handleSubmit,handleGoBackClick:this.handleGoBackClick,hasError:n,isMobile:!0}):D(j,{handleButtonClick:this.handleButtonClick,formValues:e,handleClose:this.handleClose,isForm:t,selectedButton:i,handleInputChange:this.handleInputChange,isLoading:o,handleSubmit:this.handleSubmit,handleGoBackClick:this.handleGoBackClick,hasError:n})}}var H=o(88);o.d(t,"separatorClassName",(function(){return F})),o.d(t,"UserSurveyBase",(function(){return Z}));var R=o(2).h;const G=!1,F=Object(n.a)('flex:1;max-width:100%;&::after{content:"";clear:both;display:block;height:8;margin-top:40;margin-left:[-20|0];margin-right:[-20|0];background:gray-lightest;}'),A=Object(n.a)("&::before{align-items:center;bottom:0;display:flex;font-size:16;justify-content:center;left:0;line-height:16px;position:absolute;right:0;top:0;}background:none;border:none;color:gray-dark;height:16;width:16;position:absolute;right:20;top:20;padding:0;cursor:pointer;z-index:1;"),K=Object(n.a)("font-size:[22|24];margin:0;"),U=Object(n.a)("margin-left:7px;position:relative;top:1px;"),q=e=>Object(n.a)({position:"relative",minHeight:102,backgroundColor:"gold-lightest",marginLeft:e?-20:"auto",marginRight:e?-20:"auto"}),Y=e=>Object(n.a)({position:"absolute",width:e?100:230,height:e?102:205,top:0,left:0,backgroundImage:`url('https://images-prod.healthline.com/hlcmsresource/images/user-survey/${e?"collapsed":"expanded"}-top-corner-asset@2x.png')`,backgroundPosition:"left",backgroundRepeat:"no-repeat",backgroundSize:e?"100px 102px":"230px 205px",pointerEvents:"none"}),J=e=>Object(n.a)({position:"absolute",width:e?122:265,height:e?102:250,bottom:0,right:0,backgroundImage:`url('https://images-prod.healthline.com/hlcmsresource/images/user-survey/${e?"collapsed":"expanded"}-bottom-corner-asset@2x.png')`,backgroundPosition:"right",backgroundRepeat:"no-repeat",backgroundSize:e?"102px 122px":"265px 268px",pointerEvents:"none"}),Q=e=>R("div",{css:"position:relative;text-align:center;padding-top:40;padding-bottom:40;"},R("button",{type:"button",className:"icon-hl-close window-close-button",css:A,onClick:t=>{t.preventDefault(),e()}}),R("h3",{css:K},"Thanks for your feedback!")),X=(e,t,o,n)=>R("div",{css:"position:relative;text-align:center;padding-top:40;padding-bottom:40;"},R("button",{type:"button",className:"icon-hl-close window-close-button",css:A,onClick:t=>{t.preventDefault(),e()}}),R("h3",{css:K},"Would you recommend us?"),R("p",{css:"margin-bottom:0;"},R("a",{href:"#",css:{fontSize:16,lineHeight:"26px",color:"cyan",textDecoration:"none"},onClick:e=>{e.preventDefault(),o(t),Object(s.f)(`|tNPS survey - ${n}|start click`)}},"TAP TO ANSWER"," ",R("span",{className:`${U} icon-hl-arrow-right`}))));class Z extends i.PureComponent{constructor(...e){super(...e),this.state={isModal:!1,isSuccess:!1,isVisible:!0},this.handleModalClose=e=>{const{isModal:t}=this.state;this.setState({isModal:!t,isSuccess:e})},this.handleInlineClose=e=>{const{handleCloseUserSurvey:t}=this.props;e?this.setState({isSuccess:e}):(t&&t(),this.setState({isVisible:!1}))},this.handleCloseSuccess=()=>{const{handleCloseUserSurvey:e}=this.props,{isSuccess:t}=this.state;this.setState({isSuccess:!t}),e&&e(),this.setState({isVisible:!1})},this.handleSetModal=e=>{this.setState({isModal:!e})}}render(){const{isModal:e,placement:t}=this.props,{isModal:o,isSuccess:n,isVisible:i}=this.state;return i?R("div",{css:q(e)},!G&&R("div",{css:Y(n||e)}),!G&&R("div",{css:J(n||e)}),n&&Q(this.handleCloseSuccess),!n&&e&&X(this.handleCloseSuccess,o,this.handleSetModal,t),!n&&!e&&R(_,{placement:t,onClose:this.handleInlineClose}),o&&R(_,{isModal:!0,placement:t,onClose:this.handleModalClose})):null}}t.default=Object(H.a)((e,t)=>({category:"Any Page",action:`tNPS survey - ${e.placement}`,label:`tNPS ${t}`}),Z)},94:function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));var n=o(37),i=o(67),s=o(92),a=o(57);let r;function c(e){const t=Date.now();return(r||(r=Object(s.a)(`https://www.google.com/recaptcha/api.js?render=${i.a.googleRecaptchaSiteKey}`).then(()=>new Promise(e=>{grecaptcha.ready(()=>{e(grecaptcha)})})))).then(t=>t.execute(i.a.googleRecaptchaSiteKey,{action:e})).then(e=>(Object(n.c)("recaptcha",Date.now()-t),e)).catch(t=>{Object(n.b)("recaptcha.error"),Object(a.a)(t,{action:e})})}}}]);
//# sourceMappingURL=modal-4f54e.js.map